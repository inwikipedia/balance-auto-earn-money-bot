(this.webpackJsonpbalance_bot_react=this.webpackJsonpbalance_bot_react||[]).push([[0],{465:function(e,t,a){},466:function(e,t,a){},611:function(e,t,a){},614:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(28),r=a.n(c),o=(a(465),a(466),a(8)),l=a(72),s=a(9),d=a(723),j=a(722),b=a(721),h=a(702),u=a(651),x=a(185),O=a(725),p=a(713),g=a(657),m=a(659),f=a(724),v=a(182),y=a(49),C=a(658),F=a(162),w=a(727),k=a(654),S=a(655),N=a(656),B=a(144),T=a(720),P=a(153),E=function(e,t){var a=i.a.useState(localStorage.getItem(e)||t),n=Object(o.a)(a,2),c=n[0],r=n[1];return i.a.useEffect((function(){localStorage.setItem(e,c)}),[c]),[c,r]},I=a(1),R=Object(n.createContext)(),D=function(e){var t=E("fiat","EUR")[0],a=Object(n.useState)(t),i=Object(o.a)(a,2),c=i[0],r=i[1];return Object(I.jsx)(R.Provider,{value:[c,r],children:e.children})},A=Object(n.createContext)(),L=function(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),i=a[0],c=a[1];return Object(I.jsx)(A.Provider,{value:[i,c],children:e.children})},W=Object(n.createContext)(),M=function(e){var t=Object(n.useState)({status:"disconnected",updated:"---"}),a=Object(o.a)(t,2),i=a[0],c=a[1];return Object(I.jsx)(W.Provider,{value:[i,c],children:e.children})},U=a(234),z=a(95),G=a(408),Y=a.n(G),H=a(410),J=a.n(H),K=a(409),X=a.n(K),q=a(411),_=a.n(q),V=a(221),$=a.n(V),Q=a(59),Z=a(6),ee=a(17),te=a(704),ae=a(705),ne=a(701),ie=a(703),ce=a(699),re=a(700),oe=a(731),le=a(732),se=a(329),de=a(395),je=a.n(de),be=a(45),he=[{id:"coin",align:"left",width:"60px",disablePadding:!0,label:"Coin"},{id:"amount",align:"right",width:"100px",disablePadding:!1,label:"Amount"},{id:"price",align:"right",width:"110px",disablePadding:!1,label:"BTC Price"},{id:"value",align:"right",width:"110px",disablePadding:!1,label:"BTC Value"},{id:"distribution",align:"right",width:"80px",disablePadding:!1,label:"Portfolio %"},{id:"target",align:"right",width:"80px",disablePadding:!1,label:"Target %"},{id:"trade",align:"right",width:"100px",disablePadding:!1,label:"Trade"},{id:"side",align:"center",width:"100px",disablePadding:!1,label:"Order Side"}],ue=Object(l.a)((function(e){return{headcolor:"light"===e.palette.type?{backgroundColor:"#aaaaaa"}:{backgroundColor:"#777777"}}}));function xe(e){var t,a=e.onSelectAllClick,n=e.numSelected,i=e.rowCount,c=e.headless,r=ue();return t=c?null:Object(I.jsx)(se.a,{indeterminate:n>0&&n<i,checked:i>0&&n===i,onChange:a,inputProps:{"aria-label":"select coins"}}),Object(I.jsx)(ce.a,{children:Object(I.jsxs)(re.a,{className:r.headcolor,children:[Object(I.jsx)(ne.a,{padding:"checkbox",children:t}),he.map((function(e){return Object(I.jsx)(ne.a,{align:e.align,padding:e.disablePadding?"none":"default",style:{minWidth:e.width},children:Object(I.jsx)(oe.a,{children:e.label})},e.id)}))]})})}var Oe=Object(l.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ee.i)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),pe=function(e){var t=Oe(),a=e.selected,n=e.headless,i=e.portfolio,c=e.handleOrder,r=e.setSelected,o=a.length;return Object(I.jsxs)(h.a,{className:Object(Z.a)(t.root,Object(Q.a)({},t.highlight,o>0)),children:[o>0?Object(I.jsxs)(x.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[o," ",1===o?"coin":"coins"," selected: ",a.join()]}):Object(I.jsx)(x.a,{className:t.title,variant:"subtitle1",id:"tableTitle",component:"div",children:n?"Running in automatic mode":"Select coins to manually submit order"}),o>0&&Object(I.jsx)(B.a,{variant:"contained",color:"secondary",style:{width:"220px"},startIcon:Object(I.jsx)(je.a,{}),onClick:function(){r([]);for(var e=[],t=function(t){var n=i.find((function(e){return e.coin===a[t]}));"BTC"!==n.coin&&e.push(n)},n=0;n<a.length;n++)t(n);c(e)},children:"Submit Order"})]})},ge=Object(l.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750,"& .MuiTableCell-sizeSmall":{paddingTop:"9px",paddingBottom:"9px"}},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function me(e,t){return Number(Math.round(e+"e"+t)+"e-"+t).toFixed(t)}function fe(e){var t=ge(),a=i.a.useState([]),n=Object(o.a)(a,2),c=n[0],r=n[1],l=Object(be.a)(),s=e.balances,d=s.threshold,j=s.headless||!1,b=e.onOrder,h=s.portfolio?JSON.parse(s.portfolio):[];return Object(I.jsx)("div",{className:t.root,children:Object(I.jsxs)(F.a,{className:t.paper,children:[Object(I.jsx)(pe,{selected:c,headless:j,portfolio:h,handleOrder:b,setSelected:r}),Object(I.jsx)(ie.a,{children:Object(I.jsxs)(te.a,{className:t.table,size:"small",children:[Object(I.jsx)(xe,{classes:t,numSelected:c.length,onSelectAllClick:function(e){if(0!==c.length)r([]);else{var t=h.map((function(e){return e.coin})).filter((function(e){return"BTC"!==e}));r(t)}},rowCount:h.length,headless:j}),Object(I.jsx)(ae.a,{children:h.map((function(e,t){var a,n,i=(a=e.coin,-1!==c.indexOf(a)),o="enhanced-table-checkbox-".concat(t),s=Object(I.jsx)("div",{style:{color:"#999999",width:"120px"},children:"-"}),b=e.side;return e.reverse&&(b+=" (reverse)"),"sell"===e.side?s=e.distribution/e.target-1>=d/100?Object(I.jsx)(le.a,{label:b,style:{backgroundColor:l.palette.error.dark,color:"white",width:"120px"}}):Object(I.jsx)(le.a,{label:b,style:{backgroundColor:l.palette.text.disabled,color:"white",width:"120px"}}):"buy"===e.side&&(s=e.distribution/e.target-1<=-d/100?Object(I.jsx)(le.a,{label:b,style:{backgroundColor:l.palette.success.dark,color:"white",width:"120px"}}):Object(I.jsx)(le.a,{label:b,style:{backgroundColor:l.palette.text.disabled,color:"white",width:"120px"}})),n=j||"BTC"===e.coin?null:Object(I.jsx)(se.a,{checked:i,inputProps:{"aria-labelledby":o}}),Object(I.jsxs)(re.a,{hover:!0,onClick:function(t){return function(e,t){if(!j&&"BTC"!==t){var a=c.indexOf(t),n=[];-1===a?n=n.concat(c,t):0===a?n=n.concat(c.slice(1)):a===c.length-1?n=n.concat(c.slice(0,-1)):a>0&&(n=n.concat(c.slice(0,a),c.slice(a+1))),r(n)}}(0,e.coin)},role:"checkbox","aria-checked":i,tabIndex:-1,selected:i,children:[Object(I.jsx)(ne.a,{padding:"checkbox",children:n}),Object(I.jsx)(ne.a,{component:"th",id:o,scope:"row",padding:"none",children:e.coin}),Object(I.jsx)(ne.a,{align:"right",children:e.number}),Object(I.jsx)(ne.a,{align:"right",children:me(e.last,8)}),Object(I.jsx)(ne.a,{align:"right",children:me(e.value,8)}),Object(I.jsx)(ne.a,{align:"right",children:me(e.distribution,3)}),Object(I.jsx)(ne.a,{align:"right",children:me(e.target,3)}),Object(I.jsx)(ne.a,{align:"right",children:me(e.trade,8)}),Object(I.jsx)(ne.a,{align:"center",children:s})]},e.coin)}))})]})})]})})}var ve=a(412);function ye(e){var t=Object(be.a)().palette.type,a=e.balances,n=(a.portfolio?JSON.parse(a.portfolio):[]).map((function(e){return{id:e.coin,label:e.coin,value:e.distribution}}));return Object(I.jsx)(ve.a,{theme:{tooltip:{color:"light"===t?"#000000":"#FFFFFF",container:{background:"light"===t?"#FFFFFF":"#000000"}}},data:n,margin:{top:20,right:80,bottom:20,left:80},innerRadius:.5,padAngle:1,cornerRadius:7,colors:{scheme:"red_yellow_blue"},borderWidth:1,borderColor:{from:"color",modifiers:[["darker","0.2"]]},radialLabelsSkipAngle:10,radialLabelsTextColor:"light"===t?"#000000":"#FFFFFF",radialLabelsLinkColor:{from:"color"},arcLinkLabelsSkipAngle:10,arcLinkLabelsTextColor:"light"===t?"#000000":"#FFFFFF"})}var Ce=a(401),Fe=a.n(Ce)()("/"),we=Object(n.createContext)(),ke=function(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),i=a[0],c=a[1];return Object(I.jsx)(we.Provider,{value:[i,c],children:e.children})},Se=Object(n.createContext)(),Ne=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),i=a[0],c=a[1];return Object(I.jsx)(Se.Provider,{value:[i,c],children:e.children})},Be=Object(l.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),height:"68px",minWidth:"340px"}}}));function Te(){var e,t=Be(),a=Object(be.a)(),i=Object(n.useContext)(W)[0],c=i.status,r=i.updated;return e="connected"===c?Object(I.jsx)(le.a,{label:c,style:{backgroundColor:a.palette.success.dark,color:"white",width:"90px"}}):Object(I.jsx)(le.a,{label:c,style:{backgroundColor:a.palette.error.dark,color:"white",width:"110px"}}),Object(I.jsx)(F.a,{className:t.paper,children:Object(I.jsxs)(p.a,{container:!0,alignItems:"center",children:[Object(I.jsxs)(p.a,{container:!0,item:!0,alignItems:"center",xs:7,children:[Object(I.jsx)(p.a,{item:!0,xs:4,children:Object(I.jsx)(x.a,{children:"Status: "})}),Object(I.jsx)(p.a,{item:!0,xs:8,children:e})]}),Object(I.jsx)(p.a,{container:!0,item:!0,alignItems:"center",xs:5,children:Object(I.jsx)(p.a,{item:!0,xs:12,children:Object(I.jsxs)(x.a,{children:["Updated: ",Object(I.jsx)("b",{children:r.split(" ")[1]})]})})})]})})}var Pe=a(715),Ee=a(716),Ie=a(730),Re=a(402),De=a.n(Re),Ae=a(645),Le=a(714),We=Object(l.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(0),height:"68px",minWidth:"340px"},stepper:{padding:e.spacing(1)}}}));function Me(e){var t=We(),a=Object(n.useContext)(A)[0],i=e.data||[],c="..",r="----/--/--";if(0!==i.length){var o=Object(Le.a)(new Date(i[0].date),{days:1}),l=function(){var e=new Date,t=e;return a.timeshift&&0!==a.timeshift&&(t=Object(Le.a)(e,{hours:a.timeshift})),t}().getTime()-o.getTime();c=Math.round(l/864e5),r=o.getFullYear()+"/"+(o.getMonth()+1).toString().padStart(2,"0")+"/"+o.getDate().toString().padStart(2,"0")}return Object(I.jsx)(F.a,{className:t.paper,children:Object(I.jsxs)(p.a,{container:!0,alignItems:"center",children:[Object(I.jsx)(p.a,{item:!0,xs:3,children:Object(I.jsx)(x.a,{align:"right",children:r})}),Object(I.jsx)(p.a,{item:!0,xs:6,children:Object(I.jsxs)(Pe.a,{className:t.stepper,alternativeLabel:!0,activeStep:1,connector:Object(I.jsx)(Ue,{}),children:[Object(I.jsx)(Ee.a,{children:Object(I.jsx)(Ie.a,{StepIconComponent:Ge})},0),Object(I.jsx)(Ee.a,{children:Object(I.jsx)(Ie.a,{StepIconComponent:Ge})},1)]})}),Object(I.jsx)(p.a,{item:!0,xs:3,children:Object(I.jsxs)(x.a,{children:[Object(I.jsx)("b",{children:c})," ",1===c?"day":"days"]})})]})})}var Ue=Object(s.a)({alternativeLabel:{top:22},active:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},completed:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},line:{height:3,border:0,backgroundColor:"#eaeaf0",borderRadius:1}})(Ae.a),ze=Object(l.a)({root:{backgroundColor:"#ccc",zIndex:1,color:"#fff",width:50,height:50,display:"flex",borderRadius:"50%",justifyContent:"center",alignItems:"center"},active:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)",boxShadow:"0 4px 10px 0 rgba(0,0,0,.25)"},completed:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)"}});function Ge(e){var t,a=ze(),n=e.active,i=e.completed,c={1:Object(I.jsx)($.a,{}),2:Object(I.jsx)(De.a,{})};return Object(I.jsx)("div",{className:Object(Z.a)(a.root,(t={},Object(Q.a)(t,a.active,n),Object(Q.a)(t,a.completed,i),t)),children:c[String(e.icon)]})}var Ye=Object(n.createContext)(),He=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),i=a[0],c=a[1];return Object(I.jsx)(Ye.Provider,{value:[i,c],children:e.children})};function Je(e){var t=Object(n.useContext)(Ye)[0],a=Object(n.useState)({}),i=Object(o.a)(a,2),c=i[0],r=i[1],l=e.balances,s=e.type,d=Object(n.useContext)(R)[0],j="btc"===s?"BTC":"fiat"===s||"net-fiat"===s?d:"Net BTC",b="net-btc"===s?"Net change (BTC)":"net-fiat"===s?"Net change (".concat(j,")"):"".concat(j," value"),h="net-btc"===s||"net-fiat"===s?"Net change (%)":"".concat(j," change");return Object(n.useEffect)((function(){var e,a=l.portfolio?JSON.parse(l.portfolio):[],n=0;a.forEach((function(e){n+=e.number*e.last})),"fiat"!==s&&"net-fiat"!==s||(n*="EUR"===d?l.eur:l.usd),e="btc"===s?100*(n/t.btc-1):"EUR"===d?100*(n/t.eur-1):100*(n/t.usd-1);var i=0;if(t.coins&&a.forEach((function(e){var a=t.coins.find((function(t){return t.coin===e.coin}));a.coin&&(i+=a.number*e.last)})),"net-btc"===s&&(e=(n-i)/t.btc*100,n-=i),"net-fiat"===s){var c="EUR"===d?t.eur:t.usd;i="EUR"===d?i*l.eur:i*l.usd,e=(n-i)/c*100,n-=i}e=e?e<100?e.toFixed(2):e<1e3?e.toFixed(1):e.toFixed(0):"0",n=n?Math.abs(n)<.1?n.toFixed(6):Math.abs(n)<1?n.toFixed(5):Math.abs(n)<10?n.toFixed(4):Math.abs(n)<100?n.toFixed(3):(Math.abs(n),n.toFixed(2)):"0",r({value:n,change:e})}),[l,t,d]),Object(I.jsxs)(p.a,{container:!0,alignItems:"center",children:[Object(I.jsxs)(p.a,{container:!0,item:!0,direction:"column",alignItems:"center",xs:6,children:[Object(I.jsx)(p.a,{item:!0,xs:12,children:Object(I.jsx)(x.a,{variant:"h4",children:c.value})}),Object(I.jsx)(p.a,{item:!0,xs:12,children:Object(I.jsx)(x.a,{children:b})})]}),Object(I.jsxs)(p.a,{container:!0,item:!0,direction:"column",alignItems:"center",xs:6,children:[Object(I.jsx)(p.a,{item:!0,xs:12,children:Object(I.jsxs)(x.a,{variant:"h4",children:[c.change,"%"]})}),Object(I.jsx)(p.a,{item:!0,xs:12,children:Object(I.jsx)(x.a,{children:h})})]})]})}var Ke=Object(l.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)}}})),Xe=function(e){var t=Ke(),a=Object(n.useContext)(we)[0],i=Object(n.useContext)(Se)[0],c=Object(n.useContext)(Ye)[0];return Object(n.useEffect)((function(){return Fe&&0===c.length&&Fe.emit("get-starting-balances"),function(){}}),[]),Object(I.jsx)("div",{className:t.root,children:Object(I.jsxs)(p.a,{container:!0,spacing:3,alignItems:"flex-start",children:[Object(I.jsx)(p.a,{item:!0,xs:6,children:Object(I.jsx)(x.a,{variant:"h3",noWrap:!0,children:"Portfolio"})}),Object(I.jsx)(p.a,{item:!0,xs:3,children:Object(I.jsx)(Me,{data:i})}),Object(I.jsx)(p.a,{item:!0,xs:3,children:Object(I.jsx)(Te,{})}),Object(I.jsx)(p.a,{item:!0,xs:3,children:Object(I.jsx)(F.a,{style:{height:"100px",minWidth:"340px"},className:t.paper,children:Object(I.jsx)(Je,{balances:a,type:"btc"})})}),Object(I.jsx)(p.a,{item:!0,xs:3,children:Object(I.jsx)(F.a,{style:{height:"100px",minWidth:"340px"},className:t.paper,children:Object(I.jsx)(Je,{balances:a,type:"fiat"})})}),Object(I.jsx)(p.a,{item:!0,xs:3,children:Object(I.jsx)(F.a,{style:{height:"100px",minWidth:"340px"},className:t.paper,children:Object(I.jsx)(Je,{balances:a,type:"net-btc"})})}),Object(I.jsx)(p.a,{item:!0,xs:3,children:Object(I.jsx)(F.a,{style:{height:"100px",minWidth:"340px"},className:t.paper,children:Object(I.jsx)(Je,{balances:a,type:"net-fiat"})})}),Object(I.jsx)(p.a,{item:!0,xs:8,children:Object(I.jsx)(fe,{balances:a,onOrder:function(e){Fe.emit("market-order",e)}})}),Object(I.jsx)(p.a,{container:!0,item:!0,xs:4,children:Object(I.jsx)(p.a,{item:!0,xs:12,children:Object(I.jsx)(F.a,{style:{height:"500px"},className:t.paper,children:Object(I.jsx)(ye,{balances:a})})})})]})})},qe=a(181);a(611);function _e(e){var t=Object(be.a)().palette.type,a=(e.type,e.title),n=e.data1,i=e.data2,c=function(){return{axis:{ticks:{line:{stroke:"light"===t?"#000000":"#FFFFFF"},text:{fill:"light"===t?"#000000":"#FFFFFF"}},legend:{text:{fill:"light"===t?"#000000":"#FFFFFF"}}},crosshair:{line:{stroke:"light"===t?"#000000":"#FFFFFF"}},tooltip:{container:{background:"light"===t?"#FFFFFF":"#000000",color:"light"===t?"#000000":"#FFFFFF"}}}};return Object(I.jsxs)("div",{className:"wrapper",children:[Object(I.jsx)("div",{children:Object(I.jsx)("b",{children:a})}),Object(I.jsx)("div",{className:"secondGraph",children:n?Object(I.jsx)(qe.a,{data:n,theme:c(),margin:{top:40,right:90,bottom:50,left:90},xScale:{type:"time",format:"%Y/%m/%d",useUTC:!1,precision:"day"},xFormat:"time:%Y/%m/%d",yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},yFormat:" >-.6f",curve:"monotoneX",colors:["rgb(255,255,255,0)"],axisTop:null,axisRight:null,axisBottom:null,axisLeft:{legend:n[0].id,legendOffset:-80,legendPosition:"middle"},enablePoints:!1,enableGridX:!1,enableGridY:!1,useMesh:!0,crosshairType:"cross"}):null}),Object(I.jsx)("div",{className:"graphContainer",children:i?Object(I.jsx)(qe.a,{data:i,theme:c(),margin:{top:40,right:90,bottom:50,left:90},xScale:{type:"time",format:"%Y/%m/%d",useUTC:!1,precision:"day"},xFormat:"time:%Y/%m/%d",yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},yFormat:" >-.6f",curve:"monotoneX",lineWidth:4,colors:["rgb(211,47,47)"],axisTop:null,axisBottom:null,axisRight:{legend:i[0].id,legendOffset:70,legendPosition:"middle"},axisLeft:null,enablePoints:!1,enableGridX:!1,enableGridY:!1,useMesh:!0,crosshairType:"cross"}):null})]})}var Ve=Object(l.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)}}})),$e=function(){var e=Ve(),t=Object(n.useContext)(we)[0],a=Object(n.useContext)(Se)[0],i=Object(n.useContext)(Ye)[0],c=Object(n.useContext)(R)[0],r=Object(n.useState)({}),l=Object(o.a)(r,2),s=l[0],d=l[1],j=Object(n.useState)({}),b=Object(o.a)(j,2),h=b[0],u=b[1];Object(n.useEffect)((function(){return Fe&&0===i.length&&Fe.emit("get-starting-balances"),function(){}}),[]);var O=[],g=[],m=[],f=[],v=[],y=[],C=[],w=[],k={},S={},N=[];Object(n.useEffect)((function(){return B(),function(){}}),[t,a,i,c]);var B=function(){(t.portfolio?JSON.parse(t.portfolio):[]).forEach((function(e,t){N[t]={coin:e.coin,initial:0}}));var e=0,n=0;0!==i.length&&(e=i.btc,n="EUR"===c?i.eur:i.usd,0!==a.length&&(a.forEach((function(t){var a="EUR"===c?t.eur:t.usd,i=0,r=0;t.coins.forEach((function(e){i+=e.number*e.price,r+=e.number*e.price*a}));var o=0,l=0;t.coins.forEach((function(e){N.find((function(t){return t.coin===e.coin}))&&(0===N.find((function(t){return t.coin===e.coin})).initial&&(N.find((function(t){return t.coin===e.coin})).initial=e.number),o+=N.find((function(t){return t.coin===e.coin})).initial*e.price,l+=N.find((function(t){return t.coin===e.coin})).initial*e.price*a)})),O.push({x:t.date,y:i}),m.push({x:t.date,y:100*(i/e-1)}),g.push({x:t.date,y:r}),f.push({x:t.date,y:100*(r/n-1)}),v.push({x:t.date,y:i-o}),y.push({x:t.date,y:(i-o)/e*100}),C.push({x:t.date,y:r-l}),w.push({x:t.date,y:(r-l)/n*100})})),k.btc=[{id:"Total Value (BTC)",data:O}],S.btc=[{id:"Total BTC Change (%)",data:m}],k.fiat=[{id:"Total Value (".concat(c,")"),data:g}],S.fiat=[{id:"Total ".concat(c," Change (%)"),data:f}],k.net=[{id:"Net Balancing Result (BTC)",data:v}],S.net=[{id:"Net Balancing Result (%)",data:y}],k.netfiat=[{id:"Net Balancing Result (".concat(c,")"),data:C}],S.netfiat=[{id:"Net Balancing Result (%)",data:w}],console.log(k),d(k),u(S)))};return Object(I.jsx)("div",{className:e.root,children:Object(I.jsxs)(p.a,{container:!0,spacing:3,children:[Object(I.jsx)(p.a,{item:!0,xs:6,children:Object(I.jsx)(x.a,{variant:"h3",noWrap:!0,children:"Performance"})}),Object(I.jsx)(p.a,{item:!0,xs:3,children:Object(I.jsx)(Me,{data:a})}),Object(I.jsx)(p.a,{item:!0,xs:3,children:Object(I.jsx)(Te,{})}),Object(I.jsx)(p.a,{item:!0,xs:6,children:Object(I.jsx)(F.a,{style:{height:"360px"},className:e.paper,children:Object(I.jsx)(_e,{data1:s.btc,data2:h.btc,type:"btc",title:"Portfolio Value (BTC)"})})}),Object(I.jsx)(p.a,{item:!0,xs:6,children:Object(I.jsx)(F.a,{style:{height:"360px"},className:e.paper,children:Object(I.jsx)(_e,{data1:s.fiat,data2:h.fiat,type:"fiat",title:"Portfolio Value (".concat(c,")")})})}),Object(I.jsx)(p.a,{item:!0,xs:6,children:Object(I.jsx)(F.a,{style:{height:"360px"},className:e.paper,children:Object(I.jsx)(_e,{data1:s.net,data2:h.net,type:"net-result",title:"Net Balancing Result (BTC)"})})}),Object(I.jsx)(p.a,{item:!0,xs:6,children:Object(I.jsx)(F.a,{style:{height:"360px"},className:e.paper,children:Object(I.jsx)(_e,{data1:s.netfiat,data2:h.netfiat,type:"net-result-fiat",title:"Net Balancing Result (".concat(c,")")})})})]})})};function Qe(e){var t=Object(be.a)().palette.type,a=e.performance,n=e.balances,i=n.portfolio?JSON.parse(n.portfolio):[],c=[],r=[],o=[];i.forEach((function(e,t){c.push(e.coin),o[t]={coin:e.coin,initial:0,data:[]}})),a!==[]&&c.forEach((function(e,t){"BTC"!==e&&(a.forEach((function(a){a.coins.forEach((function(n){n.coin===e&&(0===o[t].initial&&(o[t].initial=n.price),o[t].data.push({x:a.date,y:100*(n.price/o[t].initial-1)}))}))})),r.push({id:e,data:o[t].data}))}));return Object(I.jsxs)("div",{className:"wrapper",children:[Object(I.jsx)("div",{children:Object(I.jsx)("b",{children:e.title})}),Object(I.jsx)("div",{className:"graphContainerCoins",children:Object(I.jsx)(qe.a,{data:r,theme:{axis:{ticks:{line:{stroke:"light"===t?"#000000":"#FFFFFF"},text:{fill:"light"===t?"#000000":"#FFFFFF"}},legend:{text:{fill:"light"===t?"#000000":"#FFFFFF"}}},crosshair:{line:{stroke:"light"===t?"#000000":"#FFFFFF"}},legends:{text:{fill:"light"===t?"#000000":"#FFFFFF"}},tooltip:{container:{background:"light"===t?"#FFFFFF":"#000000",color:"light"===t?"#000000":"#FFFFFF"}}},margin:{top:50,right:110,bottom:50,left:80},xScale:{type:"time",format:"%Y/%m/%d",useUTC:!1,precision:"day"},xFormat:"time:%Y/%m/%d",yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},yFormat:" >-.2f",curve:"monotoneX",lineWidth:4,colors:{scheme:"red_yellow_blue"},axisTop:null,axisRight:null,axisBottom:null,axisLeft:{legend:"Change (%)",legendOffset:-70,legendPosition:"middle"},enablePoints:!1,enableGridX:!1,enableGridY:!1,useMesh:!0,crosshairType:"cross",legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",itemTextColor:"#ff0000",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})})]})}var Ze=Object(l.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)}}})),et=function(){var e=Ze(),t=Object(n.useContext)(we)[0],a=Object(n.useContext)(Se)[0],i=Object(n.useContext)(Ye)[0];return Object(n.useEffect)((function(){return Fe&&0===i.length&&Fe.emit("get-starting-balances"),function(){}}),[]),Object(I.jsx)("div",{className:e.root,children:Object(I.jsxs)(p.a,{container:!0,spacing:3,children:[Object(I.jsx)(p.a,{item:!0,xs:6,children:Object(I.jsx)(x.a,{variant:"h3",noWrap:!0,children:"Coin Analysis"})}),Object(I.jsx)(p.a,{item:!0,xs:3,children:Object(I.jsx)(Me,{data:a})}),Object(I.jsx)(p.a,{item:!0,xs:3,children:Object(I.jsx)(Te,{})}),Object(I.jsx)(p.a,{item:!0,xs:12,children:Object(I.jsx)(F.a,{style:{height:"700px"},className:e.paper,children:Object(I.jsx)(Qe,{performance:a,balances:t,title:"Coin BTC Price Changes (%)"})})})]})})},tt=a(322),at=a(717),nt=a(736),it=a(728),ct=Object(s.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(ne.a),rt=Object(s.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(re.a),ot=Object(l.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:200}},table:{minWidth:700},errortext:{color:"#ff0000"}}}));function lt(){var e=ot(),t=Object(n.useState)({rows:[],total:0}),a=Object(o.a)(t,2),i=a[0],c=a[1],r=Object(n.useState)({type:["order","event"],event:"",page:"1"}),l=Object(o.a)(r,2),s=l[0],d=l[1],j=Object(n.useState)({logs:[],total:0}),b=Object(o.a)(j,2),h=b[0],u=b[1];Object(n.useEffect)((function(){return function(e){var t=[];e.logs.reverse().forEach((function(e){"order"!==e.type&&(e.type="event"),t.push({time:e.time,type:e.type,event:e.event})})),c({rows:t,total:e.total})}(h),function(){}}),[h]);Object(n.useEffect)((function(){return Fe.on("event-history",(function(e,t){e.forEach((function(e){"order"!==e.type&&(e.type="event")})),u({logs:e,total:t})})),Fe.on("event",(function(e,t){"order"!==e.type&&(e.type="event"),Fe&&Fe.emit("get-logs",s)})),function(){Fe.off("event-history")}}),[]),Object(n.useEffect)((function(){return Fe&&Fe.emit("get-logs",s),function(){}}),[s]);return Object(I.jsxs)(F.a,{pt:2,children:[Object(I.jsxs)(p.a,{container:!0,style:{height:"60px"},alignItems:"center",children:[Object(I.jsx)(w.a,{p:1,children:Object(I.jsx)(p.a,{item:!0,xs:3,children:Object(I.jsxs)(nt.a,{value:s.type,onChange:function(e,t){d({type:t,event:s.event,page:s.page})},"aria-label":"type selection",children:[Object(I.jsx)(at.a,{value:"order","aria-label":"order",style:{height:"30px"},children:Object(I.jsx)(x.a,{variant:"overline",noWrap:!0,children:"Orders"})}),Object(I.jsx)(at.a,{value:"event","aria-label":"event",style:{height:"30px"},children:Object(I.jsx)(x.a,{variant:"overline",noWrap:!0,children:"Alerts"})})]})})}),Object(I.jsx)(p.a,{item:!0,xs:2,children:Object(I.jsx)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:Object(I.jsx)(tt.a,{id:"event-filter",label:"Filter events",color:"secondary",onChange:function(e){d({type:s.type,event:e.target.value,page:s.page})}})})}),Object(I.jsx)(p.a,{item:!0,xs:7})]}),Object(I.jsx)(ie.a,{component:F.a,children:Object(I.jsxs)(te.a,{className:e.table,size:"small","aria-label":"customized table",children:[Object(I.jsx)(ce.a,{children:Object(I.jsxs)(re.a,{children:[Object(I.jsx)(ct,{style:{width:"170px"},children:"Time"}),Object(I.jsx)(ct,{children:"Event"})]})}),Object(I.jsx)(ae.a,{children:i.rows.map((function(t,a){return Object(I.jsxs)(rt,{children:[Object(I.jsx)(ct,{component:"th",scope:"row",children:Object(I.jsx)(x.a,{variant:"caption",children:t.time})}),Object(I.jsx)(ct,{children:"event"===t.type?Object(I.jsx)(x.a,{variant:"body2",className:e.errortext,children:t.event}):Object(I.jsx)(x.a,{variant:"body2",children:t.event})})]},a)}))})]})}),Object(I.jsx)(w.a,{display:"flex",justifyContent:"flex-end",children:Object(I.jsx)(it.a,{count:Math.ceil(i.total/20),shape:"rounded",onChange:function(e,t){d({type:s.type,event:s.event,page:t})}})})]})}var st=Object(l.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)}}})),dt=function(e){var t=st(),a=Object(n.useContext)(Se)[0];return Object(I.jsx)("div",{className:t.root,children:Object(I.jsxs)(p.a,{container:!0,spacing:3,children:[Object(I.jsx)(p.a,{item:!0,xs:6,children:Object(I.jsx)(x.a,{variant:"h3",noWrap:!0,children:"Event History"})}),Object(I.jsx)(p.a,{item:!0,xs:3,children:Object(I.jsx)(Me,{data:a})}),Object(I.jsx)(p.a,{item:!0,xs:3,children:Object(I.jsx)(Te,{})}),Object(I.jsx)(p.a,{item:!0,xs:9,children:Object(I.jsx)(lt,{})}),Object(I.jsx)(p.a,{item:!0,xs:3})]})})},jt=a(13),bt=Object(n.createContext)(),ht=function(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),i=a[0],c=a[1];return Object(I.jsx)(bt.Provider,{value:[i,c],children:e.children})},ut=a(122),xt=a.n(ut),Ot=a(325),pt=Object(s.a)((function(e){return{tooltip:{backgroundColor:"light"===e.palette.type?"#FFFFFF":"#000000",color:"light"===e.palette.type?"#000000":"#FFFFFF",maxWidth:600,fontSize:e.typography.pxToRem(14),border:"1px solid #888888"}}}))(Ot.a);function gt(e){var t=Object(be.a)().palette.type,a=Object(n.useContext)(bt),c=Object(o.a)(a,2),r=c[0],l=(c[1],Object(n.useState)(r.apiKey)),s=Object(o.a)(l,2),d=s[0],j=s[1],b=Object(n.useState)(r.apiSecret),h=Object(o.a)(b,2),u=h[0],O=h[1],g=function(t){e.callback({field:t.target.id,input:t.target.value}),"apiKey"===t.target.id&&j(t.target.value),"apiSecret"===t.target.id&&O(t.target.value)};return Object(I.jsxs)(i.a.Fragment,{children:[Object(I.jsxs)(p.a,{container:!0,alignItems:"flex-end",children:[Object(I.jsx)(p.a,{item:!0,xs:11,children:Object(I.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Exchange API Details"})}),Object(I.jsx)(p.a,{item:!0,xs:1,children:Object(I.jsx)(pt,{mode:t,title:Object(I.jsxs)(i.a.Fragment,{children:["If you haven't done so already, logon to your exchange, go to API Management and create a new API. Then enter the API key and API secret here.",Object(I.jsx)("div",{children:"\xa0"}),Object(I.jsxs)("div",{children:[Object(I.jsx)("i",{children:"Note: "}),"You only need to enter the API details once, as your API details will be stored on the server for later use. If you want to change the configuration settings at a later point, you can just click the Next button and reuse the API that you've already configured previously. If you want to change to a different API, you can override the original API by entering the new details here."]})]}),children:Object(I.jsx)(xt.a,{})})})]}),Object(I.jsx)("form",{style:{minWidth:"100%"},children:Object(I.jsxs)(p.a,{container:!0,spacing:3,children:[Object(I.jsx)(p.a,{item:!0,xs:12,children:Object(I.jsx)(tt.a,{required:!0,id:"apiKey",name:"apiKey",label:"API Key",type:"password",value:d,onChange:g,fullWidth:!0})}),Object(I.jsx)(p.a,{item:!0,xs:12,children:Object(I.jsx)(tt.a,{required:!0,id:"apiSecret",name:"apiSecret",label:"API Secret",type:"password",value:u,onChange:g,fullWidth:!0})})]})})]})}var mt=a(30),ft=a(733),vt=a(719),yt="0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)",Ct=Object(s.a)({root:{height:2,padding:"15px 0"},thumb:{height:28,width:28,boxShadow:yt,marginTop:-14,marginLeft:-14,"&:focus, &:hover, &$active":{boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)","@media (hover: none)":{boxShadow:yt}}},active:{},valueLabel:{left:"calc(-50% + 12px)",top:9,"& *":{background:"transparent",color:"#FFFFFF"}},track:{height:3},rail:{height:2,opacity:.5,backgroundColor:"secondary"},mark:{backgroundColor:"secondary",height:8,width:1,marginTop:-3},markActive:{opacity:1,backgroundColor:"currentColor"}})(ft.a),Ft=[{id:"coin",align:"left",disablePadding:!0,label:"Coin"},{id:"change",align:"center",disablePadding:!1,label:"Change Distribution (%)"},{id:"distribution",align:"left",disablePadding:!1,label:""},{id:"notifications",align:"left",disablePadding:!1,label:""}],wt=[{value:-1,label:""},{value:100,label:""}],kt=Object(l.a)((function(e){return{headcolor:"light"===e.palette.type?{backgroundColor:"#aaaaaa"}:{backgroundColor:"#777777"},headheight:{height:44}}}));function St(e){var t,a=e.onSelectAllClick,n=e.numSelected,i=e.rowCount,c=kt();return t=Object(I.jsx)(se.a,{indeterminate:n>0&&n<i,checked:i>0&&n===i,onChange:a,inputProps:{"aria-label":"select coins"}}),Object(I.jsx)(ce.a,{children:Object(I.jsxs)(re.a,{className:"".concat(c.headcolor," ").concat(c.headheight),children:[Object(I.jsx)(ne.a,{padding:"checkbox",children:t}),Ft.map((function(e){return Object(I.jsx)(ne.a,{align:e.align,padding:e.disablePadding?"none":"default",children:Object(I.jsx)(oe.a,{children:e.label})},e.id)}))]})})}var Nt=Object(l.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ee.i)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Bt=function(e){var t=Nt(),a=e.selected,n=(e.portfolio,e.setSelected,a.length);return Object(I.jsx)(h.a,{className:Object(Z.a)(t.root,Object(Q.a)({},t.highlight,n>0)),children:n>0?Object(I.jsxs)(x.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[1===n?"Coin":"Coins"," ",Object(I.jsx)("i",{children:"excluded"})," from balancing: ",a.join()]}):Object(I.jsxs)(x.a,{className:t.title,variant:"subtitle1",id:"tableTitle",component:"div",children:["Select coins to be ",Object(I.jsx)("i",{children:"excluded"})," from balancing"]})})},Tt=Object(l.a)((function(e){return{root:{width:"100%"},paper:{width:"800px",marginBottom:e.spacing(2)},table:{maxWidth:800,minWidth:800,"& .MuiTableCell-sizeSmall":{paddingTop:"6px",paddingBottom:"0px"}},cell:{width:50},cell2:{width:120},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function Pt(e){var t=Tt(),a=Object(n.useContext)(bt),c=Object(o.a)(a,2),r=c[0],l=(c[1],r.portfolio?r.portfolio:[]),s=Object(n.useState)(l),d=Object(o.a)(s,2),j=d[0],b=d[1],h=Object(n.useState)(!1),u=Object(o.a)(h,2),O=u[0],g=u[1],m=[];l.forEach((function(e){e.excluded&&m.push(e.coin)}));var f=Object(n.useState)(m),v=Object(o.a)(f,2),y=v[0],C=v[1],k=function(t){e.callback({field:"portfolio",input:t})};Object(n.useEffect)((function(){return Fe.on("portfolio",(function(e){var t=e.length;e.forEach((function(e){var a=r.portfolio.find((function(t){return t.coin===e.coin}));a?(e.slider=a.slider,e.distribution=a.distribution,e.excluded=a.excluded,e.startnumber=a.startnumber,e.startprice=a.startprice):("************"===r.apiKey&&"************"===r.apiSecret?(e.slider=-1,e.distribution=0,e.excluded=!0,C((function(t){return[].concat(Object(mt.a)(t),[e.coin])}))):(e.slider=-1,e.distribution=(100/t).toFixed(2),e.excluded=!1),e.startnumber=e.number,e.startprice=e.price)})),g(!0),b(e),k(e)})),function(){Fe.off("portfolio")}}),[]);var S=function(e){if("BTC"!==e){var t=y.indexOf(e),a=Object(mt.a)(j),n=a.find((function(t){return t.coin===e}));n.excluded=-1===t,b(a);var i=[];-1===t?i=i.concat(y,e):0===t?i=i.concat(y.slice(1)):t===y.length-1?i=i.concat(y.slice(0,-1)):t>0&&(i=i.concat(y.slice(0,t),y.slice(t+1))),C(i),N(n.slider,n.coin,i)}},N=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y,n=Object(mt.a)(j),i=n.find((function(e){return e.coin===t}));i.slider=e;var c,r=0,o=0;n.forEach((function(e){-1===a.indexOf(e.coin)&&(r+=e.slider,-1===e.slider&&r++,-1!==e.slider&&o++)}));var l=100-r,s=n.length-o-a.length;c=0===s?r:Math.max(100,r),n.forEach((function(e){e.excluded=!1,-1!==a.indexOf(e.coin)?(e.distribution=(0).toFixed(2),e.excluded=!0):c<=100?-1===e.slider?e.distribution=(l/s).toFixed(2):e.distribution=(e.slider/c*100).toFixed(2):-1===e.slider?e.distribution=(0).toFixed(2):e.distribution=(e.slider/c*100).toFixed(2)})),b(n),k(n)},B=function(e){return-1===e?"=":e};return Object(I.jsxs)(i.a.Fragment,{children:[Object(I.jsxs)(p.a,{container:!0,alignItems:"flex-end",children:[Object(I.jsx)(p.a,{item:!0,xs:11,children:Object(I.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Coin Settings"})}),Object(I.jsx)(p.a,{item:!0,xs:1,children:Object(I.jsx)(pt,{title:Object(I.jsxs)(i.a.Fragment,{children:[Object(I.jsx)("div",{children:Object(I.jsx)("b",{children:"Exclude coins"})}),Object(I.jsx)("div",{children:"Use the checkboxes on the left to exclude coins in your account from balancing. Balance Bot will completely ignore selected coins."}),Object(I.jsx)("div",{children:"\xa0"}),Object(I.jsx)("div",{children:Object(I.jsx)("b",{children:"Coin distribution"})}),Object(I.jsx)("div",{children:"By default, all coins are balanced with an equal distribution. If you'd like to change the target distribution of your coins, use the sliders. Coins with their slider all the way to the left will get an even distribution up to a total of 100%."})]}),children:Object(I.jsx)(xt.a,{})})})]}),Object(I.jsx)(p.a,{container:!0,spacing:3,children:Object(I.jsx)(F.a,{className:t.paper,elevation:0,children:O?Object(I.jsxs)("div",{children:[Object(I.jsx)(Bt,{selected:y,portfolio:j,setSelected:C}),Object(I.jsxs)(te.a,{className:t.table,size:"small","aria-labelledby":"tableTitle","aria-label":"enhanced table",children:[Object(I.jsx)(St,{classes:t,numSelected:y.length,onSelectAllClick:function(e){var t=[];0===y.length&&(t=j.map((function(e){return e.coin})).filter((function(e){return"BTC"!==e}))),C(t),j.forEach((function(e){N(e.slider,e.coin,t)}))},rowCount:j.length}),Object(I.jsx)(ae.a,{children:j.map((function(e,a){var n,i=function(e){return-1!==y.indexOf(e)}(e.coin),c="enhanced-table-checkbox-".concat(a);return n="BTC"!==e.coin?Object(I.jsx)(se.a,{checked:i,inputProps:{"aria-labelledby":c}}):null,Object(I.jsxs)(re.a,{hover:!0,role:"checkbox","aria-checked":i,tabIndex:-1,selected:i,children:[Object(I.jsx)(ne.a,{padding:"checkbox",onClick:function(t){return S(e.coin)},children:n}),Object(I.jsx)(ne.a,{component:"th",id:c,scope:"row",padding:"none",onClick:function(t){return S(e.coin)},children:e.coin}),Object(I.jsx)(ne.a,{align:"right",children:Object(I.jsx)(Ct,{value:e.slider,step:1,valueLabelDisplay:"on",marks:wt,min:-1,valueLabelFormat:function(e){return Object(I.jsx)("div",{children:B(e)})},onChange:function(t,a){return N(a,e.coin)}})}),Object(I.jsxs)(ne.a,{component:"th",className:t.cell,id:c,scope:"row",padding:"none",align:"left",onClick:function(t){return S(e.coin)},children:[e.distribution,"%"]}),Object(I.jsx)(ne.a,{component:"th",className:t.cell2,id:c,scope:"row",padding:"none",align:"left",children:"BTC"===e.coin&&0===parseFloat(e.distribution)?Object(I.jsx)(x.a,{variant:"overline",color:"secondary",children:"Cannot be 0%"}):null})]},e.coin)}))})]})]}):Object(I.jsxs)("div",{children:[Object(I.jsx)(w.a,{pt:4}),Object(I.jsx)(x.a,{children:"Loading account data..."}),Object(I.jsx)(w.a,{pt:4}),Object(I.jsx)(vt.a,{animation:"wave"}),Object(I.jsx)(vt.a,{animation:"wave"}),Object(I.jsx)(vt.a,{animation:"wave"})]})})})]})}var Et=a(407),It=a(406),Rt=a.n(It),Dt=a(413),At=a(227),Lt=a(60),Wt=a(726),Mt=[{field:"coin",headerName:"Coin",width:350,editable:!1},{field:"startnumber",headerName:"Number",type:"number",width:200,editable:!0,valueFormatter:function(e){var t=e.value;return Number(t)}},{field:"startprice",headerName:"Price (BTC)",type:"number",width:200,editable:!0,valueFormatter:function(e){var t=e.value;return Number(t)}}],Ut=Object(l.a)((function(e){return{root:{width:"100%"},header:{"& .MuiDataGrid-colCell":"light"===e.palette.type?{backgroundColor:"#aaaaaa"}:{backgroundColor:"#777777"}},paper:{width:"100%",marginBottom:e.spacing(2)}}}));function zt(e){var t=Ut(),a=[],c=Object(n.useContext)(bt),r=Object(o.a)(c,2),l=r[0],s=(r[1],l.portfolio),d=Object(n.useState)(s),j=Object(o.a)(d,2),b=j[0],h=j[1],u=Object(n.useState)(l.startdate),O=Object(o.a)(u,2),g=O[0],m=O[1],f=Object(n.useState)(l.recreate),v=Object(o.a)(f,2),y=v[0],C=v[1];s.forEach((function(e){e.excluded||a.push({id:e.coin,coin:e.coin,startnumber:Number(e.startnumber.toFixed(8)),startprice:Number(e.startprice.toFixed(8))})}));var k=Object(n.useState)(a),S=Object(o.a)(k,2),T=S[0],P=S[1],E=function(e){m(e)},R=function(t){m(t);var a=Object(Dt.a)(t,"yyyy/MM/dd");e.callback({field:"startdate",input:a}),e.callback({field:"recreate",input:!0}),C(!0)},D=function(t){var a=t.target.checked;e.callback({field:"recreate",input:a}),C(a)},A=function(){var e=[];b.forEach((function(t){e.push({coin:t.coin,symbol:t.symbol})})),Fe&&Fe.emit("get-initial-trades",{startdate:g,coins:e})};function L(){return Object(I.jsxs)(p.a,{container:!0,alignItems:"flex-end",children:[Object(I.jsx)(p.a,{item:!0,xs:12,children:Object(I.jsx)(Lt.a,{utils:At.a,children:Object(I.jsx)(Wt.a,{disableToolbar:"true",variant:"inline",format:"yyyy/MM/dd",margin:"normal",id:"date-picker-inline",label:"Set start date",value:g,disableFuture:"true",onChange:E,onAccept:R})})}),Object(I.jsxs)(p.a,{container:!0,alignItems:"center",justify:"space-between",children:[Object(I.jsx)(p.a,{item:!0,xs:8,children:Object(I.jsx)(N.a,{control:Object(I.jsx)(se.a,{color:"secondary",name:"rewrite",value:"yes",checked:y,onChange:D}),label:"Recreate performance history"})}),Object(I.jsx)(p.a,{item:!0,xs:4,children:Object(I.jsx)(B.a,{variant:"contained",color:"primary",startIcon:Object(I.jsx)(Rt.a,{}),onClick:A,children:"Use initial trades"})})]})]})}return Object(n.useEffect)((function(){return Fe.on("initial-trades",(function(e){a=[],e.forEach((function(e){a.push({id:e.coin,coin:e.coin,startnumber:Number(e.coinamount.toFixed(8)),startprice:Number(e.price.toFixed(8))})})),P(a)})),function(){Fe.off("initial-trades")}}),[]),Object(I.jsxs)(i.a.Fragment,{children:[Object(I.jsxs)(p.a,{container:!0,alignItems:"flex-end",children:[Object(I.jsx)(p.a,{item:!0,xs:11,children:Object(I.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Starting Balance"})}),Object(I.jsx)(p.a,{item:!0,xs:1,children:Object(I.jsx)(pt,{title:Object(I.jsxs)(i.a.Fragment,{children:[Object(I.jsx)("div",{children:Object(I.jsx)("b",{children:"Use of starting balance"})}),Object(I.jsx)("div",{children:"Balance Bot uses the starting balance to determine the performance of your balancing portfolio. It compares the current portfolio value with the starting portfolio value to calculate the change."}),Object(I.jsx)("div",{children:"\xa0"}),Object(I.jsx)("div",{children:Object(I.jsx)("b",{children:"Default starting balance"})}),Object(I.jsx)("div",{children:"By default, Balance Bot will check the number of coins in your account and their prices upon first-time configuration, and use these to calculate the starting balance."}),Object(I.jsx)("div",{children:"\xa0"}),Object(I.jsx)("div",{children:Object(I.jsx)("b",{children:"Customize starting balance"})}),Object(I.jsx)("div",{children:"If you started balancing at an earlier point in time, you can manually set the starting balance for your account. Do so by filling in the number of coins and their prices at which you purchased those coins. Simply click on the cells in the table to edit. Tick the 'Recreate performance history' checkbox to confirm you want to recreate your performance history."}),Object(I.jsx)("div",{children:"\xa0"}),Object(I.jsxs)("div",{children:["Make sure to set the start date ",Object(I.jsx)("b",{children:"after"})," the date when you bought the coins in your portfolio, to avoid these purchases to be counted twice."]}),Object(I.jsx)("div",{children:"\xa0"}),Object(I.jsx)("div",{children:"Depending on the start date and your trade history, it may take several minutes to recreate your performance history and until this is visible on the performance screen. You will receive a notification message once the process has completed."}),Object(I.jsx)("div",{children:"\xa0"}),Object(I.jsxs)("div",{children:["Alternatively, you can let Balance Bot retrieve the initial trades that you used to set up your portfolio to populate the table. To do so, set the start date right ",Object(I.jsx)("b",{children:"before"})," you executed those trades, and click the 'Use initial trades' button. It will then look for the first order of your altcoins as of that date, and use that to set the number of coins and the initial price in the table. This assumes that you purchased your altcoins with BTC. Also, you'll still need to manually set the amount of BTC in the table. Finally, after the table values are set, change the start date to a date immediately ",Object(I.jsx)("b",{children:"after"})," the date of initial purchase to recreate the performance history correctly."]}),Object(I.jsx)("div",{children:"\xa0"}),Object(I.jsxs)("div",{children:[Object(I.jsx)("i",{children:"Note: "}),"Recreating the performance history will also recreate your event history, including all executed orders since the start date, but excluding error messages that may have been logged in the past."]})]}),children:Object(I.jsx)(xt.a,{})})})]}),Object(I.jsxs)("div",{style:{width:"752px"},children:[Object(I.jsx)(L,{}),Object(I.jsx)(w.a,{pt:3,children:Object(I.jsx)(p.a,{container:!0,spacing:3,children:Object(I.jsx)(F.a,{className:t.paper,elevation:0,children:Object(I.jsx)("div",{style:{width:"752px"},children:Object(I.jsx)(Et.a,{className:t.header,rows:T,columns:Mt,autoHeight:!0,density:"compact",disableColumnSelector:!0,disableColumnMenu:!0,hideFooter:!0,hideFooterPagination:!0,hideFooterRowCount:!0,onEditCellChangeCommitted:function(t){var a=Object(mt.a)(b);a.find((function(e){return e.coin===t.id}))[t.field]=Number(t.props.value),h(a),e.callback({field:"portfolio",input:a}),C(!0)}})})})})})]})]})}var Gt=a(240),Yt=a(128),Ht=a(652),Jt=a(163),Kt=a(238),Xt=Object(l.a)((function(e){return{formControl:{minWidth:"100%"},selectEmpty:{marginTop:e.spacing(2)},textinput:{width:"380px"}}}));function qt(e){var t=Xt(),a=Object(n.useContext)(bt),c=Object(o.a)(a,2),r=c[0],l=(c[1],r.botname?r.botname:""),s=r.threshold?r.threshold:"",d=r.timeshift?r.timeshift:"0",j=!!r.headless&&r.headless,b=!r.running||r.running,h=Object(n.useState)(l),u=Object(o.a)(h,2),O=u[0],g=u[1],m=Object(n.useState)(s),f=Object(o.a)(m,2),v=f[0],y=f[1],C=Object(n.useState)(d),F=Object(o.a)(C,2),w=F[0],k=F[1],S=Object(n.useState)(j),B=Object(o.a)(S,2),T=B[0],P=B[1],E=Object(n.useState)(b),R=Object(o.a)(E,2),D=(R[0],R[1],function(e){var t=new Date,a=t.getHours().toString().padStart(2,"0")+":"+t.getMinutes().toString().padStart(2,"0"),n=t;return 0!==e&&(n=Object(Le.a)(t,{hours:e})),[a,n.getHours().toString().padStart(2,"0")+":"+n.getMinutes().toString().padStart(2,"0")]}),A=Object(n.useState)(D(d)[0]),L=Object(o.a)(A,2),W=L[0],M=(L[1],Object(n.useState)(D(d)[1])),U=Object(o.a)(M,2),z=U[0],G=U[1];return Object(I.jsxs)(i.a.Fragment,{children:[Object(I.jsxs)(p.a,{container:!0,alignItems:"flex-end",children:[Object(I.jsx)(p.a,{item:!0,xs:11,children:Object(I.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"General Settings"})}),Object(I.jsx)(p.a,{item:!0,xs:1,children:Object(I.jsx)(pt,{title:Object(I.jsxs)(i.a.Fragment,{children:[Object(I.jsx)("div",{children:Object(I.jsx)("b",{children:"Bot name"})}),Object(I.jsx)("div",{children:"Give your bot a descriptive name. This is especially useful if you run multiple bots, so you can easily recognize each."}),Object(I.jsx)("div",{children:"\xa0"}),Object(I.jsx)("div",{children:Object(I.jsx)("b",{children:"Balancing threshold"})}),Object(I.jsx)("div",{children:"The balancing threshold is used by Balance Bot to determine when to sell/buy coins. The threshold is the relative deviation from the target distribution at which point the bot will place an order to restore the coin to the target distribution."}),Object(I.jsx)("div",{children:"\xa0"}),Object(I.jsx)("div",{children:Object(I.jsx)("b",{children:"Server timezone adjustment"})}),Object(I.jsx)("div",{children:"If you're hosting your bot in the cloud, and the server's timezone is different from your local timezone, you can use this setting to adjust for that so that timestamps for orders and other events are provided in your local timezone."}),Object(I.jsx)("div",{children:"\xa0"}),Object(I.jsx)("div",{children:Object(I.jsx)("b",{children:"Automatic mode"})}),Object(I.jsx)("div",{children:"You can operate your bot manually. In this mode, you will need to keep an eye on the dashboard and place manual orders when the dashboard indicates that a coin should be bought or sold. This is useful if you want to have full control, typically when you use Balance Bot for the first time and you want to get a feel for how it works."}),Object(I.jsx)("div",{children:"\xa0"}),Object(I.jsx)("div",{children:"Enabling automatic mode is a lot more practical though, as Balance Bot will run 24/7 and place orders automatically to keep your portfolio balanced."}),Object(I.jsx)("div",{children:"\xa0"}),Object(I.jsxs)("div",{children:[Object(I.jsx)("i",{children:"Note: "}),"You don't need to keep your browser open to run your bot in automatic mode. The application will keep running in the background. You can open the application in the browser at any time to check the status of your bot."]})]}),children:Object(I.jsx)(xt.a,{})})})]}),Object(I.jsxs)(p.a,{container:!0,spacing:3,children:[Object(I.jsx)(p.a,{item:!0,xs:12,children:Object(I.jsx)(tt.a,{required:!0,id:"botname",name:"botname",label:"Bot Name",helperText:"Give your bot a name",value:O,onChange:function(t){e.callback({field:t.target.id,input:t.target.value}),g(t.target.value)},className:t.textinput})}),Object(I.jsx)(p.a,{item:!0,xs:12,children:Object(I.jsx)(tt.a,{required:!0,id:"threshold",name:"threshold",label:"Balancing Threshold (%)",helperText:"At what deviation from the target distribution should be balanced",value:v,onChange:function(t){/^[0-9]*\.?[0-9]*$/.test(t.target.value)&&(e.callback({field:t.target.id,input:t.target.value}),y(t.target.value))},className:t.textinput})}),Object(I.jsx)(p.a,{item:!0,xs:12,children:Object(I.jsxs)(Jt.a,{className:t.formControl,children:[Object(I.jsx)(Gt.a,{id:"server-timezone",children:"Adjust for server timezone"}),Object(I.jsxs)(Kt.a,{labelId:"server-timezone",value:w,onChange:function(t){e.callback({field:"timeshift",input:t.target.value}),k(t.target.value),G(D(t.target.value)[1])},className:t.textinput,children:[Object(I.jsx)(Yt.a,{value:12,children:"+12:00"}),Object(I.jsx)(Yt.a,{value:11,children:"+11:00"}),Object(I.jsx)(Yt.a,{value:10,children:"+10:00"}),Object(I.jsx)(Yt.a,{value:9,children:"+09:00"}),Object(I.jsx)(Yt.a,{value:8,children:"+08:00"}),Object(I.jsx)(Yt.a,{value:7,children:"+07:00"}),Object(I.jsx)(Yt.a,{value:6,children:"+06:00"}),Object(I.jsx)(Yt.a,{value:5,children:"+05:00"}),Object(I.jsx)(Yt.a,{value:4,children:"+04:00"}),Object(I.jsx)(Yt.a,{value:3,children:"+03:00"}),Object(I.jsx)(Yt.a,{value:2,children:"+02:00"}),Object(I.jsx)(Yt.a,{value:1,children:"+01:00"}),Object(I.jsx)(Yt.a,{value:0,children:"No adjustment"}),Object(I.jsx)(Yt.a,{value:-1,children:"-01:00"}),Object(I.jsx)(Yt.a,{value:-2,children:"-02:00"}),Object(I.jsx)(Yt.a,{value:-3,children:"-03:00"}),Object(I.jsx)(Yt.a,{value:-4,children:"-04:00"}),Object(I.jsx)(Yt.a,{value:-5,children:"-05:00"}),Object(I.jsx)(Yt.a,{value:-6,children:"-06:00"}),Object(I.jsx)(Yt.a,{value:-7,children:"-07:00"}),Object(I.jsx)(Yt.a,{value:-8,children:"-08:00"}),Object(I.jsx)(Yt.a,{value:-9,children:"-09:00"}),Object(I.jsx)(Yt.a,{value:-10,children:"-10:00"}),Object(I.jsx)(Yt.a,{value:-11,children:"-11:00"}),Object(I.jsx)(Yt.a,{value:-12,children:"-12:00"})]}),Object(I.jsxs)(Ht.a,{children:["Current server time: ",W," - Adjusted server time: ",z]})]})}),Object(I.jsx)(p.a,{item:!0,xs:12,children:Object(I.jsx)(N.a,{control:Object(I.jsx)(se.a,{color:"secondary",name:"headless",checked:T,onChange:function(t){e.callback({field:"headless",input:t.target.checked}),P(t.target.checked)}}),label:"Run bot in automatic mode"})})]})]})}var _t=Object(l.a)((function(e){return{layout:{width:"1000px",marginLeft:e.spacing(2),marginRight:e.spacing(2)},paper:Object(Q.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),Vt=["Exchange API","Coin Settings","Starting Balance","General Settings"];function $t(){var e=_t(),t=Object(n.useContext)(A),a=Object(o.a)(t,2),c=(a[0],a[1]),r=Object(z.b)().enqueueSnackbar,l=Object(n.useState)(0),s=Object(o.a)(l,2),d=s[0],j=s[1],h=Object(n.useContext)(bt),u=Object(o.a)(h,2),O=u[0],p=u[1],g=Object(n.useContext)(Ye),m=Object(o.a)(g,2),f=(m[0],m[1]);Object(n.useEffect)((function(){return p(Object(jt.a)(Object(jt.a)({},O),{},{recreate:!1})),function(){}}),[]);Object(n.useEffect)((function(){return Fe.on("configuration-stored",(function(){p((function(e){return Object(jt.a)(Object(jt.a)({},e),{},{apiKey:"************",apiSecret:"************"})})),f([]),j(4)})),function(){Fe.off("configuration-stored")}}),[]);var v=function(e){var t=O;t[e.field]=e.input,p(t)},y=function(){Fe&&Fe.emit("get-portfolio",{apiKey:O.apiKey,apiSecret:O.apiSecret})},C=function(){Fe&&(Fe.emit("store-configuration",O),c(O))};return Object(I.jsxs)(i.a.Fragment,{children:[Object(I.jsx)(b.a,{}),Object(I.jsx)("main",{className:e.layout,children:Object(I.jsxs)(F.a,{className:e.paper,children:[Object(I.jsx)(Pe.a,{activeStep:d,className:e.stepper,children:Vt.map((function(e){return Object(I.jsx)(Ee.a,{children:Object(I.jsx)(Ie.a,{children:e})},e)}))}),Object(I.jsx)(i.a.Fragment,{children:d===Vt.length?Object(I.jsxs)(i.a.Fragment,{children:[Object(I.jsx)(x.a,{variant:"h5",gutterBottom:!0,children:"Configuration has been saved"}),Object(I.jsx)(x.a,{variant:"subtitle1",children:"You can now leave this page"})]}):Object(I.jsxs)(i.a.Fragment,{children:[function(e){switch(e){case 0:return Object(I.jsx)(gt,{callback:v});case 1:return Object(I.jsx)(Pt,{callback:v});case 2:return Object(I.jsx)(zt,{callback:v});case 3:return Object(I.jsx)(qt,{callback:v});default:throw new Error("Unknown step")}}(d),Object(I.jsxs)("div",{className:e.buttons,children:[0!==d&&Object(I.jsx)(B.a,{onClick:function(){2===d&&y(),j(d-1)},className:e.button,children:"Back"}),Object(I.jsx)(B.a,{variant:"contained",color:"primary",onClick:function(){var e=!1;if(0===d&&y(),1===d){var t=O.portfolio.find((function(e){return e.coin="BTC"}));0===Number(t.distribution)&&(e=!0)}3===d&&(0===O.botname.length&&(e=!0,r("Bot name must be defined",{variant:"error",autoHideDuration:8e3})),0===Number(O.threshold)&&(e=!0,r("Threshold must be defined",{variant:"error",autoHideDuration:8e3})),e||C()),3===d||e||j(d+1)},className:e.button,children:d===Vt.length-1?"Save Configuation":"Next"})]})]})})]})})]})}var Qt=Object(l.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)}}})),Zt=function(){var e=Qt();return Object(I.jsx)("div",{className:e.root,children:Object(I.jsxs)(p.a,{container:!0,spacing:3,children:[Object(I.jsx)(p.a,{item:!0,xs:12,children:Object(I.jsx)(x.a,{variant:"h3",noWrap:!0,children:"Configuration"})}),Object(I.jsx)(p.a,{item:!0,xs:12,children:Object(I.jsx)($t,{})})]})})},ea=[{path:"/",sidebarName:"Portfolio",icon:Y.a,component:Xe},{path:"/performance",sidebarName:"Performance",icon:X.a,component:$e},{path:"/coins",sidebarName:"Coin Analysis",icon:J.a,component:et},{path:"/history",sidebarName:"Event History",icon:_.a,component:dt}],ta=[{path:"/configuration",sidebarName:"Configuration",icon:$.a,component:Zt}],aa=Object(l.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},logo:{maxWidth:60,padding:10},drawer:{width:240,flexShrink:0},drawerPaper:{width:240,height:"100%"},drawerContainer:{overflow:"auto"},content:{justify:"flex-start",alignItems:"flex-start",flexGrow:1,padding:e.spacing(2)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},bottomPush:{position:"fixed",bottom:0,paddingBottom:30}}}));function na(){var e=E("mode","light"),t=Object(o.a)(e,2),a=t[0],i=t[1],c=E("fiat","EUR")[1],r=Object(n.useContext)(R),l=Object(o.a)(r,2),D=l[0],L=l[1],M=Object(n.useContext)(A)[0],G=Object(n.useContext)(W)[0],Y=G.status,H=(G.updated,Object(n.useState)(!0)),J=Object(o.a)(H,2),K=J[0],X=J[1];Object(n.useEffect)((function(){return X("connected"!==Y||0===Object.keys(M).length),function(){}}),[Y,M]);var q=aa(),_=function(e){i("light"===a?"dark":"light")},V=function(e){"EUR"===D?(L("USD"),c("USD")):(L("EUR"),c("EUR"))},$=Object(P.a)({palette:{type:a}}),Q=Object(s.a)({root:{"&:hover":{backgroundColor:"transparent"},"&:click":{backgroundColor:"#f00"}}})(B.a),Z=Object(z.b)().enqueueSnackbar,ee=Object(U.a)(new Date,new Date(2021,5,1));return Object(n.useEffect)((function(){ee&&Z("Please install new version to continue using Balance Bot",{variant:"error",autoHideDuration:null})}),[]),ee?Object(I.jsx)(z.a,{maxSnack:5}):Object(I.jsxs)(T.a,{theme:$,children:[Object(I.jsx)(k.a,{className:q.backdrop,open:K,onClick:function(){X(!1)},children:Object(I.jsx)(S.a,{color:"inherit"})}),Object(I.jsx)(v.a,{children:Object(I.jsxs)("div",{className:q.root,children:[Object(I.jsx)(b.a,{}),Object(I.jsx)(j.a,{position:"fixed",className:q.appBar,children:Object(I.jsxs)(h.a,{children:[Object(I.jsx)("img",{src:"/logo192.png",alt:"Balance Bot Logo",className:q.logo}),Object(I.jsxs)(x.a,{variant:"h6",noWrap:!0,children:["Balance Bot | ",M.botname]})]})}),Object(I.jsx)(d.a,{className:q.drawer,variant:"permanent",children:Object(I.jsx)(F.a,{className:q.drawerPaper,children:Object(I.jsxs)(p.a,{container:!0,direction:"column",children:[Object(I.jsxs)(p.a,{item:!0,xs:12,children:[Object(I.jsx)(h.a,{}),""!==M.apiKey?Object(I.jsxs)("div",{className:q.drawerContainer,children:[Object(I.jsx)(u.a,{children:ea.map((function(e,t){return Object(I.jsx)(v.b,{to:e.path,style:{textDecoration:"none"},children:Object(I.jsxs)(g.a,{button:!0,children:[Object(I.jsx)(m.a,{children:Object(I.jsx)(e.icon,{})}),Object(I.jsx)(f.a,{primary:e.sidebarName,primaryTypographyProps:{variant:"button",color:"textPrimary"}})]},e.sidebarName)},t)}))}),Object(I.jsx)(O.a,{}),ta.map((function(e,t){return Object(I.jsx)(v.b,{to:e.path,style:{textDecoration:"none"},children:Object(I.jsxs)(g.a,{button:!0,children:[Object(I.jsx)(m.a,{children:Object(I.jsx)(e.icon,{})}),Object(I.jsx)(f.a,{primary:e.sidebarName,primaryTypographyProps:{variant:"button",color:"textPrimary"}})]},e.sidebarName)},t)}))]}):Object(I.jsxs)("div",{className:q.drawerContainer,children:[Object(I.jsx)(u.a,{children:ea.map((function(e,t){return Object(I.jsx)(y.a,{to:"/configuration",style:{textDecoration:"none"},children:Object(I.jsxs)(g.a,{button:!0,children:[Object(I.jsx)(m.a,{children:Object(I.jsx)(e.icon,{})}),Object(I.jsx)(f.a,{primary:e.sidebarName,primaryTypographyProps:{variant:"button",color:"textPrimary"}})]},e.sidebarName)},t)}))}),Object(I.jsx)(O.a,{}),ta.map((function(e,t){return Object(I.jsx)(v.b,{to:e.path,style:{textDecoration:"none"},children:Object(I.jsxs)(g.a,{button:!0,children:[Object(I.jsx)(m.a,{children:Object(I.jsx)(e.icon,{})}),Object(I.jsx)(f.a,{primary:e.sidebarName,primaryTypographyProps:{variant:"button",color:"textPrimary"}})]},e.sidebarName)},t)}))]})]}),Object(I.jsx)("div",{className:q.bottomPush,children:Object(I.jsxs)(w.a,{pl:1,children:[Object(I.jsxs)(p.a,{container:!0,item:!0,xs:12,alignItems:"center",justify:"flex-end",children:[Object(I.jsx)(p.a,{item:!0,xs:8,children:Object(I.jsx)(N.a,{onChange:_,value:a,control:Object(I.jsx)(C.a,{checked:"dark"===a,color:"secondary"}),label:Object(I.jsx)(x.a,{variant:"button",children:"Light"}),labelPlacement:"start"})}),Object(I.jsx)(p.a,{item:!0,xs:4,children:Object(I.jsx)(Q,{disableRipple:!0,onClick:_,children:Object(I.jsx)(x.a,{variant:"button",children:"Dark"})})})]}),Object(I.jsxs)(p.a,{container:!0,item:!0,xs:12,alignItems:"center",justify:"flex-end",children:[Object(I.jsx)(p.a,{item:!0,xs:8,children:Object(I.jsx)(N.a,{onChange:V,value:D,control:Object(I.jsx)(C.a,{checked:"EUR"===D,color:"secondary"}),label:Object(I.jsx)(x.a,{variant:"button",children:"USD\xa0\xa0\xa0"}),labelPlacement:"start"})}),Object(I.jsx)(p.a,{item:!0,xs:4,children:Object(I.jsx)(Q,{disableRipple:!0,onClick:V,children:Object(I.jsx)(x.a,{variant:"button",children:"EUR"})})})]})]})})]})})}),Object(I.jsxs)("main",{className:q.content,children:[Object(I.jsx)(h.a,{}),Object(I.jsxs)(y.d,{children:[ea.map((function(e,t){return Object(I.jsx)(y.b,{exact:!0,path:e.path,component:e.component},t)})),ta.map((function(e,t){return Object(I.jsx)(y.b,{exact:!0,path:e.path,component:e.component},t)}))]})]})]})})]})}function ia(){var e=Object(n.useContext)(W),t=Object(o.a)(e,2),a=t[0],i=(a.status,a.updated),c=t[1],r=Object(n.useContext)(we),l=Object(o.a)(r,2),s=l[0],d=l[1],j=Object(n.useContext)(Se),b=Object(o.a)(j,2),h=b[0],u=b[1],x=Object(n.useContext)(A),O=Object(o.a)(x,2),p=O[0],g=O[1],m=Object(n.useContext)(bt),f=Object(o.a)(m,2),v=(f[0],f[1]),y=Object(n.useContext)(Ye)[1],C=Object(z.b)().enqueueSnackbar,F=function(){var e=new Date,t=e;return p.timeshift&&0!==p.timeshift&&(t=Object(Le.a)(e,{hours:p.timeshift})),t},w=function(){var e=F();return e.getFullYear()+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getDate().toString().padStart(2,"0")};return Object(n.useEffect)((function(){return function(){var e=s.portfolio?JSON.parse(s.portfolio):[],t=[];if(e.forEach((function(e){t.push({coin:e.coin,number:e.number,price:e.last})})),0!==h.length&&h[h.length-1].date===w()){var a=Object(mt.a)(h);a[a.length-1].coins=t,a[a.length-1].eur=s.eur,a[a.length-1].usd=s.usd,u(a)}}(),function(){}}),[s]),Object(n.useEffect)((function(){return Fe.on("status",(function(e){c({status:e,updated:i})})),Fe.on("balances",(function(e){d(e),c({status:"connected",updated:e.time})})),Fe.on("performance",(function(e){u(e)})),Fe.on("configuration",(function(e){g(e),v(Object(jt.a)(Object(jt.a)({},e),{},{recreate:!1}))})),Fe.on("starting-balances",(function(e){y(e)})),Fe.on("event",(function(e,t){!function(e,t){var a="order"===e.type?"info":e.type;C(t,{variant:a,autoHideDuration:8e3})}(e,t)})),Fe.on("disconnect",(function(e){c({status:"disconnected",updated:i})})),function(){Fe.disconnect()}}),[]),null}var ca=function(){return Object(n.useEffect)((function(){var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-XBDNDRB9LJ",document.body.appendChild(e);var t=document.createElement("script");t.text="window.dataLayer = window.dataLayer || [];\n    function gtag() { dataLayer.push(arguments); }\n    gtag('js', new Date());\n    gtag('config', 'G-XBDNDRB9LJ');",document.body.appendChild(t)}),[]),Object(I.jsx)(z.a,{maxSnack:5,children:Object(I.jsx)(M,{children:Object(I.jsx)(ke,{children:Object(I.jsx)(Ne,{children:Object(I.jsx)(L,{children:Object(I.jsx)(ht,{children:Object(I.jsx)(He,{children:Object(I.jsxs)(D,{children:[Object(I.jsx)(ia,{}),Object(I.jsx)(b.a,{}),Object(I.jsx)(na,{})]})})})})})})})})};r.a.render(Object(I.jsx)(i.a.StrictMode,{children:Object(I.jsx)(ca,{})}),document.getElementById("root"))}},[[614,1,2]]]);
//# sourceMappingURL=main.cd182d8c.chunk.js.map