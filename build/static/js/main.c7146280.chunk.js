(this.webpackJsonpbalance_bot_react=this.webpackJsonpbalance_bot_react||[]).push([[0],{399:function(e,t,a){},400:function(e,t,a){},555:function(e,t,a){},557:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(20),r=a.n(i),o=(a(399),a(400),a(15)),l=a(654),s=a(7),d=a(694),j=a(678),b=a(677),h=a(660),u=a(675),x=a(155),p=a(683),O=a(670),g=a(680),m=a(681),f=a(682),v=a(197),y=a(32),F=a(685),C=a(365),S=a(684),k=a(661),N=a(676),w=a(359),T=function(e,t){var a=c.a.useState(localStorage.getItem(e)||t),n=Object(o.a)(a,2),i=n[0],r=n[1];return c.a.useEffect((function(){localStorage.setItem(e,i)}),[i]),[i,r]},P=a(3),E=Object(n.createContext)(),B=function(e){var t=T("fiat","EUR")[0],a=Object(n.useState)(t),c=Object(o.a)(a,2),i=c[0],r=c[1];return Object(P.jsx)(E.Provider,{value:[i,r],children:e.children})},I=a(356),R=a.n(I),D=a(357),W=a.n(D),U=a(358),G=a.n(U),L=a(187),Y=a.n(L),M=a(143),z=a(5),H=a(14),J=a(663),_=a(664),A=a(659),X=a(662),V=a(657),q=a(658),$=a(695),K=a(696),Q=a(692),Z=a(343),ee=a.n(Z),te=a(44);function ae(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function ne(e,t){return"desc"===e?function(e,a){return ae(e,a,t)}:function(e,a){return-ae(e,a,t)}}function ce(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}var ie=[{id:"coin",align:"left",disablePadding:!0,label:"Coin"},{id:"amount",align:"right",disablePadding:!1,label:"Amount"},{id:"price",align:"right",disablePadding:!1,label:"BTC Price"},{id:"value",align:"right",disablePadding:!1,label:"BTC Value"},{id:"distribution",align:"right",disablePadding:!1,label:"Distribution %"},{id:"target",align:"right",disablePadding:!1,label:"Target %"},{id:"trade",align:"right",disablePadding:!1,label:"Trade"},{id:"side",align:"right",disablePadding:!1,label:"Order Side"}],re=Object(l.a)((function(e){return{headcolor:"light"===e.palette.type?{backgroundColor:"#aaaaaa"}:{backgroundColor:"#777777"}}}));function oe(e){var t,a=e.onSelectAllClick,n=e.order,c=e.orderBy,i=e.numSelected,r=e.rowCount,o=e.onRequestSort,l=e.headless,s=re();return t=l?null:Object(P.jsx)(Q.a,{indeterminate:i>0&&i<r,checked:r>0&&i===r,onChange:a,inputProps:{"aria-label":"select coins"}}),Object(P.jsx)(V.a,{children:Object(P.jsxs)(q.a,{className:s.headcolor,children:[Object(P.jsx)(A.a,{padding:"checkbox",children:t}),ie.map((function(e){return Object(P.jsx)(A.a,{align:e.align,padding:e.disablePadding?"none":"default",sortDirection:c===e.id&&n,children:Object(P.jsxs)($.a,{active:c===e.id,direction:c===e.id?n:"asc",onClick:(t=e.id,function(e){o(e,t)}),children:[e.label,c===e.id?Object(P.jsx)("span",{className:s.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var t}))]})})}var le=Object(l.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(H.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),se=function(e){var t=le(),a=e.selected,n=e.headless,c=e.portfolio,i=e.handleOrder,r=e.setSelected,o=a.length;return Object(P.jsxs)(h.a,{className:Object(z.a)(t.root,Object(M.a)({},t.highlight,o>0)),children:[o>0?Object(P.jsxs)(x.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[o," ",1===o?"coin":"coins"," selected: ",a.join()]}):Object(P.jsx)(x.a,{className:t.title,variant:"subtitle1",id:"tableTitle",component:"div",children:n?"Running in automatic mode":"Select coins to manually submit order"}),o>0&&Object(P.jsx)(k.a,{variant:"contained",color:"secondary",style:{width:"220px"},startIcon:Object(P.jsx)(ee.a,{}),onClick:function(){r([]);for(var e=[],t=function(t){var n=c.find((function(e){return e.coin===a[t]}));"BTC"!==n.coin&&e.push(n)},n=0;n<a.length;n++)t(n);i(e)},children:"Submit Order"})]})},de=Object(l.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750,"& .MuiTableCell-sizeSmall":{paddingTop:"10px",paddingBottom:"10px"}},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function je(e,t){return parseFloat(e.toFixed(t))}function be(e){var t=de(),a=c.a.useState("asc"),n=Object(o.a)(a,2),i=n[0],r=n[1],l=c.a.useState("calories"),s=Object(o.a)(l,2),d=s[0],j=s[1],b=c.a.useState([]),h=Object(o.a)(b,2),u=h[0],x=h[1],p=Object(te.a)(),O=e.balances,g=O.threshold,m=O.headless||!1,f=e.onOrder,v=O.portfolio?JSON.parse(O.portfolio):[];return Object(P.jsx)("div",{className:t.root,children:Object(P.jsxs)(C.a,{className:t.paper,children:[Object(P.jsx)(se,{selected:u,headless:m,portfolio:v,handleOrder:f,setSelected:x}),Object(P.jsx)(X.a,{children:Object(P.jsxs)(J.a,{className:t.table,size:"small","aria-labelledby":"tableTitle","aria-label":"enhanced table",children:[Object(P.jsx)(oe,{classes:t,numSelected:u.length,order:i,orderBy:d,onSelectAllClick:function(e){if(0!==u.length)x([]);else{var t=v.map((function(e){return e.coin})).filter((function(e){return"BTC"!==e}));x(t)}},onRequestSort:function(e,t){r(d===t&&"asc"===i?"desc":"asc"),j(t)},rowCount:v.length,headless:m}),Object(P.jsx)(_.a,{children:ce(v,ne(i,d)).map((function(e,t){var a,n,c=(a=e.coin,-1!==u.indexOf(a)),i="enhanced-table-checkbox-".concat(t),r=Object(P.jsx)("div",{style:{color:"#999999",width:"120px"},children:"-"}),o=e.side;return e.reverse&&(o+=" (reverse)"),"sell"===e.side?r=e.distribution/e.target-1>=g/100?Object(P.jsx)(K.a,{label:o,style:{backgroundColor:p.palette.error.dark,color:"white",width:"120px"}}):Object(P.jsx)(K.a,{label:o,style:{backgroundColor:p.palette.text.disabled,color:"white",width:"120px"}}):"buy"===e.side&&(r=e.distribution/e.target-1<=-g/100?Object(P.jsx)(K.a,{label:o,style:{backgroundColor:p.palette.success.dark,color:"white",width:"120px"}}):Object(P.jsx)(K.a,{label:o,style:{backgroundColor:p.palette.text.disabled,color:"white",width:"120px"}})),n=m||"BTC"===e.coin?null:Object(P.jsx)(Q.a,{checked:c,inputProps:{"aria-labelledby":i}}),Object(P.jsxs)(q.a,{hover:!0,onClick:function(t){return function(e,t){if(!m&&"BTC"!==t){var a=u.indexOf(t),n=[];-1===a?n=n.concat(u,t):0===a?n=n.concat(u.slice(1)):a===u.length-1?n=n.concat(u.slice(0,-1)):a>0&&(n=n.concat(u.slice(0,a),u.slice(a+1))),x(n)}}(0,e.coin)},role:"checkbox","aria-checked":c,tabIndex:-1,selected:c,children:[Object(P.jsx)(A.a,{padding:"checkbox",children:n}),Object(P.jsx)(A.a,{component:"th",id:i,scope:"row",padding:"none",children:e.coin}),Object(P.jsx)(A.a,{align:"right",children:e.number}),Object(P.jsx)(A.a,{align:"right",children:je(e.last,8)}),Object(P.jsx)(A.a,{align:"right",children:je(e.value,8)}),Object(P.jsx)(A.a,{align:"right",children:e.distribution}),Object(P.jsx)(A.a,{align:"right",children:e.target}),Object(P.jsx)(A.a,{align:"right",children:je(e.trade,8)}),Object(P.jsx)(A.a,{align:"right",children:r})]},e.coin)}))})]})})]})})}var he=a(360);function ue(e){var t=Object(te.a)().palette.type,a=e.balances,n=(a.portfolio?JSON.parse(a.portfolio):[]).map((function(e){return{id:e.coin,label:e.coin,value:e.distribution}}));return Object(P.jsx)(he.a,{theme:{tooltip:{color:"light"===t?"#000000":"#FFFFFF",container:{background:"light"===t?"#FFFFFF":"#000000"}}},data:n,margin:{top:20,right:80,bottom:20,left:80},innerRadius:.5,padAngle:1,cornerRadius:7,colors:{scheme:"red_yellow_blue"},borderWidth:1,borderColor:{from:"color",modifiers:[["darker","0.2"]]},radialLabelsSkipAngle:10,radialLabelsTextColor:"light"===t?"#000000":"#FFFFFF",radialLabelsLinkColor:{from:"color"},sliceLabelsSkipAngle:10,sliceLabelsTextColor:"light"===t?"#000000":"#FFFFFF"})}var xe=a(349),pe=a.n(xe)()("/"),Oe=Object(n.createContext)(),ge=function(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),c=a[0],i=a[1];return Object(P.jsx)(Oe.Provider,{value:[c,i],children:e.children})},me=Object(n.createContext)(),fe=function(e){var t=Object(n.useState)({status:"disconnected",updated:"---"}),a=Object(o.a)(t,2),c=a[0],i=a[1];return Object(P.jsx)(me.Provider,{value:[c,i],children:e.children})},ve=Object(l.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),height:"68px",minWidth:"420px"}}}));function ye(){var e,t=ve(),a=Object(te.a)(),c=Object(n.useContext)(me)[0],i=c.status,r=c.updated;return e="connected"===i?Object(P.jsx)(K.a,{label:i,style:{backgroundColor:a.palette.success.dark,color:"white",width:"90px"}}):Object(P.jsx)(K.a,{label:i,style:{backgroundColor:a.palette.error.dark,color:"white",width:"110px"}}),Object(P.jsx)(C.a,{className:t.paper,children:Object(P.jsxs)(O.a,{container:!0,alignItems:"center",children:[Object(P.jsxs)(O.a,{container:!0,item:!0,alignItems:"center",xs:6,children:[Object(P.jsx)(O.a,{item:!0,xs:5,children:Object(P.jsx)(x.a,{children:"Server status: "})}),Object(P.jsx)(O.a,{item:!0,xs:7,children:e})]}),Object(P.jsx)(O.a,{container:!0,item:!0,alignItems:"center",xs:6,children:Object(P.jsx)(O.a,{item:!0,xs:12,children:Object(P.jsxs)(x.a,{children:["Last update: ",Object(P.jsx)("b",{children:r})]})})})]})})}var Fe=Object(n.createContext)(),Ce=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],i=a[1];return Object(P.jsx)(Fe.Provider,{value:[c,i],children:e.children})};function Se(e){var t=Object(n.useContext)(Fe)[0],a=Object(n.useState)({}),c=Object(o.a)(a,2),i=c[0],r=c[1],l=e.balances,s=e.type,d=Object(n.useContext)(E)[0],j="btc"===s?"BTC":"fiat"===s?d:"Net BTC",b="net-result"===s?"Net change (BTC)":"".concat(j," value"),h="net-result"===s?"Net change (%)":"".concat(j," change");return Object(n.useEffect)((function(){var e,a=l.portfolio?JSON.parse(l.portfolio):[],n=0;a.forEach((function(e){n+=e.number*e.last})),"fiat"===s&&(n*="EUR"===d?l.eur:l.usd),e="btc"===s?100*(n/t.btc-1):"EUR"===d?100*(n/t.eur-1):100*(n/t.usd-1);var c=0;t.coins&&a.forEach((function(e){var a=t.coins.find((function(t){return t.coin===e.coin}));c+=a.number*e.last})),"net-result"===s&&(e=(n-c)/t.btc*100,n-=c),e=e?e<100?e.toFixed(2):e<1e3?e.toFixed(1):e.toFixed(0):"0",n=n?n<.1?n.toFixed(6):n<1?n.toFixed(5):n<10?n.toFixed(4):n<100?n.toFixed(3):n.toFixed(2):"0",r({value:n,change:e})}),[l,t,d]),Object(P.jsxs)(O.a,{container:!0,alignItems:"center",children:[Object(P.jsxs)(O.a,{container:!0,item:!0,direction:"column",alignItems:"center",xs:6,children:[Object(P.jsx)(O.a,{item:!0,xs:12,children:Object(P.jsx)(x.a,{variant:"h3",children:i.value})}),Object(P.jsx)(O.a,{item:!0,xs:12,children:Object(P.jsx)(x.a,{children:b})})]}),Object(P.jsxs)(O.a,{container:!0,item:!0,direction:"column",alignItems:"center",xs:6,children:[Object(P.jsx)(O.a,{item:!0,xs:12,children:Object(P.jsxs)(x.a,{variant:"h3",children:[i.change,"%"]})}),Object(P.jsx)(O.a,{item:!0,xs:12,children:Object(P.jsx)(x.a,{children:h})})]})]})}var ke=Object(l.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)}}})),Ne=function(e){var t=ke(),a=Object(n.useContext)(Oe)[0],c=Object(n.useContext)(Fe)[0];return Object(n.useEffect)((function(){return pe&&0===c.length&&pe.emit("get-starting-balances"),function(){}}),[]),Object(P.jsx)("div",{className:t.root,children:Object(P.jsxs)(O.a,{container:!0,spacing:3,alignItems:"flex-start",children:[Object(P.jsx)(O.a,{item:!0,xs:6,children:Object(P.jsx)(x.a,{variant:"h3",noWrap:!0,children:"Portfolio"})}),Object(P.jsx)(O.a,{item:!0,xs:2}),Object(P.jsx)(O.a,{item:!0,xs:4,children:Object(P.jsx)(ye,{})}),Object(P.jsx)(O.a,{item:!0,xs:4,children:Object(P.jsx)(C.a,{style:{height:"100px",minWidth:"420px"},className:t.paper,children:Object(P.jsx)(Se,{balances:a,type:"btc"})})}),Object(P.jsx)(O.a,{item:!0,xs:4,children:Object(P.jsx)(C.a,{style:{height:"100px",minWidth:"420px"},className:t.paper,children:Object(P.jsx)(Se,{balances:a,type:"fiat"})})}),Object(P.jsx)(O.a,{item:!0,xs:4,children:Object(P.jsx)(C.a,{style:{height:"100px",minWidth:"420px"},className:t.paper,children:Object(P.jsx)(Se,{balances:a,type:"net-result"})})}),Object(P.jsx)(O.a,{item:!0,xs:8,children:Object(P.jsx)(be,{balances:a,onOrder:function(e){pe.emit("market-order",e)}})}),Object(P.jsx)(O.a,{container:!0,item:!0,xs:4,children:Object(P.jsx)(O.a,{item:!0,xs:12,children:Object(P.jsx)(C.a,{style:{height:"500px"},className:t.paper,children:Object(P.jsx)(ue,{balances:a})})})})]})})},we=a(671),Te=a(672),Pe=a(693),Ee=a(350),Be=a.n(Ee),Ie=a(589),Re=Object(l.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(0),height:"68px",minWidth:"420px"},stepper:{padding:e.spacing(1)}}}));function De(e){var t=Re(),a=e.data||[],n="..",c="----/--/--";if(0!==a.length){var i=new Date(a[0].date);i.setDate(new Date(i).getDate()+1);var r=(new Date).getTime()-i.getTime();n=Math.round(r/864e5),c=i.getFullYear()+"/"+(i.getMonth()+1).toString().padStart(2,"0")+"/"+i.getDate().toString().padStart(2,"0")}return Object(P.jsx)(C.a,{className:t.paper,children:Object(P.jsxs)(O.a,{container:!0,alignItems:"center",children:[Object(P.jsx)(O.a,{item:!0,xs:3,children:Object(P.jsxs)(x.a,{align:"right",children:["Start ",Object(P.jsx)("b",{children:c})]})}),Object(P.jsx)(O.a,{item:!0,xs:6,children:Object(P.jsxs)(we.a,{className:t.stepper,alternativeLabel:!0,activeStep:1,connector:Object(P.jsx)(We,{}),children:[Object(P.jsx)(Te.a,{children:Object(P.jsx)(Pe.a,{StepIconComponent:Ge})},0),Object(P.jsx)(Te.a,{children:Object(P.jsx)(Pe.a,{StepIconComponent:Ge})},1)]})}),Object(P.jsx)(O.a,{item:!0,xs:3,children:Object(P.jsxs)(x.a,{children:["Active ",Object(P.jsx)("b",{children:n})," ",1===n?"day":"days"]})})]})})}var We=Object(s.a)({alternativeLabel:{top:22},active:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},completed:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},line:{height:3,border:0,backgroundColor:"#eaeaf0",borderRadius:1}})(Ie.a),Ue=Object(l.a)({root:{backgroundColor:"#ccc",zIndex:1,color:"#fff",width:50,height:50,display:"flex",borderRadius:"50%",justifyContent:"center",alignItems:"center"},active:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)",boxShadow:"0 4px 10px 0 rgba(0,0,0,.25)"},completed:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)"}});function Ge(e){var t,a=Ue(),n=e.active,c=e.completed,i={1:Object(P.jsx)(Y.a,{}),2:Object(P.jsx)(Be.a,{})};return Object(P.jsx)("div",{className:Object(z.a)(a.root,(t={},Object(M.a)(t,a.active,n),Object(M.a)(t,a.completed,c),t)),children:i[String(e.icon)]})}var Le=a(150);a(555);function Ye(e){var t,a,c,i=Object(te.a)().palette.type,r=Object(n.useContext)(Fe)[0],o=e.performance,l=e.type,s=e.title,d=e.balances,j=d.portfolio?JSON.parse(d.portfolio):[],b=[],h=[],u=[],x=[],p=[],O=[],g=[],m=[],f=Object(n.useContext)(E)[0];j.forEach((function(e,t){m[t]={coin:e.coin,initial:0}})),0!==r.length&&(a=r.btc,c="EUR"===f?r.eur:r.usd),0!==o.length&&o.forEach((function(e){var t="EUR"===f?e.eur:e.usd,n=0,i=0;e.coins.forEach((function(e){n+=e.number*e.price,i+=e.number*e.price*t}));var r=0;e.coins.forEach((function(e){m.find((function(t){return t.coin===e.coin}))&&(0===m.find((function(t){return t.coin===e.coin})).initial&&(m.find((function(t){return t.coin===e.coin})).initial=e.number),r+=m.find((function(t){return t.coin===e.coin})).initial*e.price)})),b.push({x:e.date,y:n}),u.push({x:e.date,y:100*(n/a-1)}),h.push({x:e.date,y:i}),x.push({x:e.date,y:100*(i/c-1)}),p.push({x:e.date,y:n-r}),O.push({x:e.date,y:(n-r)/a*100})})),"btc"===l?(t=[{id:"Total Value (BTC)",data:b}],g=[{id:"Total Change (%)",data:u}]):"fiat"===l?(s=s.replace("Fiat","".concat(f)),t=[{id:"Total Value (".concat(f,")"),data:h}],g=[{id:"Total Change (%)",data:x}]):(t=[{id:"Net Balancing Result (BTC)",data:p}],g=[{id:"Net Balancing Result (%)",data:O}]);var v=function(){return{axis:{ticks:{line:{stroke:"light"===i?"#000000":"#FFFFFF"},text:{fill:"light"===i?"#000000":"#FFFFFF"}},legend:{text:{fill:"light"===i?"#000000":"#FFFFFF"}}},crosshair:{line:{stroke:"light"===i?"#000000":"#FFFFFF"}}}};function y(e){var t={};return e.filter((function(e){return!t.hasOwnProperty(e)&&(t[e]=!0)}))}return Object(P.jsxs)("div",{className:"wrapper",children:[Object(P.jsx)("div",{children:Object(P.jsx)("b",{children:s})}),Object(P.jsx)("div",{className:"secondGraph",children:Object(P.jsx)(Le.a,{data:t,sliceTooltip:function(e){var t=e.slice,a="light"===i?"#FFFFFF":"#000000",n="light"===i?"#000000":"#FFFFFF";return Object(P.jsx)("div",{style:{background:a,boxShadow:"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",padding:"9px 12px"},children:y(t.points).map((function(e){return Object(P.jsxs)("div",{style:{color:n,padding:"3px 0"},children:[e.serieId," ",Object(P.jsx)("strong",{children:e.data.yFormatted})]},e.id)}))})},theme:v(),margin:{top:40,right:90,bottom:50,left:90},xScale:{type:"time",format:"%Y/%m/%d",useUTC:!1,precision:"day"},xFormat:"time:%Y/%m/%d",yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},yFormat:" >-.6f",curve:"monotoneX",colors:["rgb(255,255,255,0)"],axisTop:null,axisRight:null,axisBottom:null,axisLeft:{legend:t[0].id,legendOffset:-80,legendPosition:"middle"},enablePoints:!1,enableGridX:!1,enableGridY:!1,enableSlices:"y",crosshairType:"y"})}),Object(P.jsx)("div",{className:"graphContainer",children:Object(P.jsx)(Le.a,{data:g,theme:v(),margin:{top:40,right:90,bottom:50,left:90},xScale:{type:"time",format:"%Y/%m/%d",useUTC:!1,precision:"day"},xFormat:"time:%Y/%m/%d",yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},yFormat:" >-.6f",curve:"monotoneX",lineWidth:4,colors:["rgb(211,47,47)"],axisTop:null,axisBottom:null,axisRight:{legend:g[0].id,legendOffset:70,legendPosition:"middle"},axisLeft:null,enablePoints:!1,enableGridX:!1,enableGridY:!1,enableSlices:"y",crosshairType:"y"})})]})}function Me(e){var t=Object(te.a)().palette.type,a=e.performance,n=e.balances,c=n.portfolio?JSON.parse(n.portfolio):[],i=[],r=[],o=[];c.forEach((function(e,t){i.push(e.coin),o[t]={coin:e.coin,initial:0,data:[]}})),a!==[]&&i.forEach((function(e,t){"BTC"!==e&&(a.forEach((function(a){a.coins.forEach((function(n){n.coin===e&&(0===o[t].initial&&(o[t].initial=n.price),o[t].data.push({x:a.date,y:100*(n.price/o[t].initial-1)}))}))})),r.push({id:e,data:o[t].data}))}));function l(e){var t={};return e.filter((function(e){return!t.hasOwnProperty(e)&&(t[e]=!0)}))}return Object(P.jsxs)("div",{className:"wrapper",children:[Object(P.jsx)("div",{children:Object(P.jsx)("b",{children:e.title})}),Object(P.jsx)("div",{className:"graphContainer",children:Object(P.jsx)(Le.a,{data:r,sliceTooltip:function(e){var a=e.slice,n="light"===t?"#FFFFFF":"#000000";return Object(P.jsx)("div",{style:{background:n,boxShadow:"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",padding:"9px 12px"},children:l(a.points).map((function(e){return Object(P.jsxs)("div",{style:{color:e.serieColor,padding:"3px 0"},children:[e.serieId," ",Object(P.jsxs)("strong",{children:[e.data.yFormatted,"%"]})]},e.id)}))})},theme:{axis:{ticks:{line:{stroke:"light"===t?"#000000":"#FFFFFF"},text:{fill:"light"===t?"#000000":"#FFFFFF"}},legend:{text:{fill:"light"===t?"#000000":"#FFFFFF"}}},crosshair:{line:{stroke:"light"===t?"#000000":"#FFFFFF"}},legends:{text:{fill:"light"===t?"#000000":"#FFFFFF"}}},margin:{top:50,right:110,bottom:50,left:80},xScale:{type:"time",format:"%Y/%m/%d",useUTC:!1,precision:"day"},xFormat:"time:%Y/%m/%d",yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},yFormat:" >-.2f",curve:"monotoneX",lineWidth:4,colors:{scheme:"red_yellow_blue"},axisTop:null,axisRight:null,axisBottom:null,axisLeft:{legend:"Change (%)",legendOffset:-70,legendPosition:"middle"},enablePoints:!1,enableGridX:!1,enableGridY:!1,enableSlices:"y",crosshairType:"y",legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",itemTextColor:"#ff0000",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})})]})}var ze=Object(n.createContext)(),He=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],i=a[1];return Object(P.jsx)(ze.Provider,{value:[c,i],children:e.children})},Je=Object(l.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)}}})),_e=function(){var e=Je(),t=Object(n.useContext)(Oe)[0],a=Object(n.useContext)(ze)[0];return Object(P.jsx)("div",{className:e.root,children:Object(P.jsxs)(O.a,{container:!0,spacing:3,children:[Object(P.jsx)(O.a,{item:!0,xs:4,children:Object(P.jsx)(x.a,{variant:"h3",noWrap:!0,children:"Performance"})}),Object(P.jsx)(O.a,{item:!0,xs:4,children:Object(P.jsx)(De,{data:a})}),Object(P.jsx)(O.a,{item:!0,xs:4,children:Object(P.jsx)(ye,{})}),Object(P.jsx)(O.a,{item:!0,xs:6,children:Object(P.jsx)(C.a,{style:{height:"360px"},className:e.paper,children:Object(P.jsx)(Ye,{performance:a,balances:t,type:"btc",title:"Portfolio Value (BTC)"})})}),Object(P.jsx)(O.a,{item:!0,xs:6,children:Object(P.jsx)(C.a,{style:{height:"360px"},className:e.paper,children:Object(P.jsx)(Ye,{performance:a,balances:t,type:"fiat",title:"Portfolio Value (Fiat)"})})}),Object(P.jsx)(O.a,{item:!0,xs:6,children:Object(P.jsx)(C.a,{style:{height:"360px"},className:e.paper,children:Object(P.jsx)(Ye,{performance:a,balances:t,type:"net-result",title:"Net Balancing Result (BTC)"})})}),Object(P.jsx)(O.a,{item:!0,xs:6,children:Object(P.jsx)(C.a,{style:{height:"360px"},className:e.paper,children:Object(P.jsx)(Me,{performance:a,balances:t,title:"Coin BTC Price Changes (%)"})})})]})})},Ae=a(687),Xe=a(686),Ve=a(674),qe=a(698),$e=a(688),Ke=Object(s.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(A.a),Qe=Object(s.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(q.a),Ze=Object(l.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:200}},table:{minWidth:700},errortext:{color:"#ff0000"}}}));function et(){var e=Ze(),t=Object(n.useState)({rows:[],total:0}),a=Object(o.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)({type:["order","error"],event:"",page:"1"}),l=Object(o.a)(r,2),s=l[0],d=l[1],j=Object(n.useState)({logs:[],total:0}),b=Object(o.a)(j,2),h=b[0],u=b[1];Object(n.useEffect)((function(){return function(e){var t=[];e.logs.reverse().forEach((function(e){t.push({time:e.time,type:e.type,event:e.event})})),i({rows:t,total:e.total})}(h),function(){}}),[h]);Object(n.useEffect)((function(){return pe.on("event-history",(function(e,t){u({logs:e,total:t})})),pe.on("event",(function(e,t){pe&&pe.emit("get-logs",s)})),function(){pe.off("event-history")}}),[]),Object(n.useEffect)((function(){return pe&&pe.emit("get-logs",s),function(){}}),[s]);return Object(P.jsxs)(C.a,{pt:2,children:[Object(P.jsxs)(O.a,{container:!0,style:{height:"60px"},alignItems:"center",children:[Object(P.jsx)(Ae.a,{p:1,children:Object(P.jsx)(O.a,{item:!0,xs:3,children:Object(P.jsxs)(qe.a,{value:s.type,onChange:function(e,t){d({type:t,event:s.event,page:s.page})},"aria-label":"type selection",children:[Object(P.jsx)(Ve.a,{value:"order","aria-label":"order",style:{height:"30px"},children:Object(P.jsx)(x.a,{variant:"overline",noWrap:!0,children:"Orders"})}),Object(P.jsx)(Ve.a,{value:"error","aria-label":"error",style:{height:"30px"},children:Object(P.jsx)(x.a,{variant:"overline",noWrap:!0,children:"Errors"})})]})})}),Object(P.jsx)(O.a,{item:!0,xs:2,children:Object(P.jsx)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:Object(P.jsx)(Xe.a,{id:"event-filter",label:"Filter events",color:"secondary",onChange:function(e){d({type:s.type,event:e.target.value,page:s.page})}})})}),Object(P.jsx)(O.a,{item:!0,xs:7})]}),Object(P.jsx)(X.a,{component:C.a,children:Object(P.jsxs)(J.a,{className:e.table,size:"small","aria-label":"customized table",children:[Object(P.jsx)(V.a,{children:Object(P.jsxs)(q.a,{children:[Object(P.jsx)(Ke,{style:{width:"170px"},children:"Time"}),Object(P.jsx)(Ke,{children:"Event"})]})}),Object(P.jsx)(_.a,{children:c.rows.map((function(t){return Object(P.jsxs)(Qe,{children:[Object(P.jsx)(Ke,{component:"th",scope:"row",children:Object(P.jsx)(x.a,{variant:"caption",children:t.time})}),Object(P.jsx)(Ke,{children:"error"===t.type?Object(P.jsx)(x.a,{variant:"body2",className:e.errortext,children:t.event}):Object(P.jsx)(x.a,{variant:"body2",children:t.event})})]},t.time+t.event)}))})]})}),Object(P.jsx)(Ae.a,{display:"flex",justifyContent:"flex-end",children:Object(P.jsx)($e.a,{count:Math.ceil(c.total/20),shape:"rounded",onChange:function(e,t){d({type:s.type,event:s.event,page:t})}})})]})}var tt=Object(l.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)}}})),at=function(e){var t=tt();return Object(P.jsx)("div",{className:t.root,children:Object(P.jsxs)(O.a,{container:!0,spacing:3,children:[Object(P.jsx)(O.a,{item:!0,xs:6,children:Object(P.jsx)(x.a,{variant:"h3",noWrap:!0,children:"Event History"})}),Object(P.jsx)(O.a,{item:!0,xs:2}),Object(P.jsx)(O.a,{item:!0,xs:4,children:Object(P.jsx)(ye,{})}),Object(P.jsx)(O.a,{item:!0,xs:8,children:Object(P.jsx)(et,{})}),Object(P.jsx)(O.a,{item:!0,xs:4})]})})},nt=Object(l.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)}}})),ct=function(){var e=nt();return Object(P.jsx)("div",{className:e.root,children:Object(P.jsxs)(O.a,{container:!0,spacing:3,children:[Object(P.jsx)(O.a,{item:!0,xs:6,children:Object(P.jsx)(x.a,{variant:"h3",noWrap:!0,children:"Configuration"})}),Object(P.jsx)(O.a,{item:!0,xs:2}),Object(P.jsx)(O.a,{item:!0,xs:4,children:Object(P.jsx)(ye,{})})]})})},it=[{path:"/",sidebarName:"Portfolio",navbarName:"Portfolio",icon:R.a,component:Ne},{path:"/performance",sidebarName:"Performance",navbarName:"Performance",icon:W.a,component:_e},{path:"/history",sidebarName:"Event History",navbarName:"Event History",icon:G.a,component:at}],rt=[{path:"/configuration",sidebarName:"Configuration",navbarName:"Configuration",icon:Y.a,component:ct}],ot=Object(l.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},logo:{maxWidth:60,padding:10},drawer:{width:240,flexShrink:0},drawerPaper:{width:240,height:"100%"},drawerContainer:{overflow:"auto"},content:{justify:"flex-start",alignItems:"flex-start",flexGrow:1,padding:e.spacing(2)}}}));function lt(){var e=ot(),t=T("mode","light"),a=Object(o.a)(t,2),c=a[0],i=a[1],r=T("fiat","EUR"),l=Object(o.a)(r,2),B=(l[0],l[1]),I=Object(n.useContext)(E),R=Object(o.a)(I,2),D=R[0],W=R[1],U=function(e){"EUR"===D?(W("USD"),B("USD")):(W("EUR"),B("EUR"))},G=Object(w.a)({palette:{type:c}}),L=Object(s.a)({root:{"&:hover":{backgroundColor:"transparent"},"&:click":{backgroundColor:"#f00"}}})(k.a);return Object(P.jsx)(N.a,{theme:G,children:Object(P.jsx)(v.a,{children:Object(P.jsxs)("div",{className:e.root,children:[Object(P.jsx)(b.a,{}),Object(P.jsx)(j.a,{position:"fixed",className:e.appBar,children:Object(P.jsxs)(h.a,{children:[Object(P.jsx)("img",{src:"/logo192.png",alt:"Balance-Bot Logo",className:e.logo}),Object(P.jsx)(x.a,{variant:"h6",noWrap:!0,children:"Balance Bot"})]})}),Object(P.jsx)(d.a,{className:e.drawer,variant:"permanent",children:Object(P.jsx)(C.a,{className:e.drawerPaper,children:Object(P.jsxs)(O.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"stretch",children:[Object(P.jsxs)(O.a,{item:!0,children:[Object(P.jsx)(h.a,{}),Object(P.jsxs)("div",{className:e.drawerContainer,children:[Object(P.jsx)(u.a,{children:it.map((function(e,t){return Object(P.jsx)(v.b,{to:e.path,style:{textDecoration:"none"},children:Object(P.jsxs)(g.a,{button:!0,children:[Object(P.jsx)(m.a,{children:Object(P.jsx)(e.icon,{})}),Object(P.jsx)(f.a,{primary:e.sidebarName,primaryTypographyProps:{variant:"button",color:"textPrimary"}})]},e.sidebarName)},t)}))}),Object(P.jsx)(p.a,{}),rt.map((function(e,t){return Object(P.jsx)(v.b,{to:e.path,style:{textDecoration:"none"},children:Object(P.jsxs)(g.a,{button:!0,children:[Object(P.jsx)(m.a,{children:Object(P.jsx)(e.icon,{})}),Object(P.jsx)(f.a,{primary:e.sidebarName,primaryTypographyProps:{variant:"button",color:"textPrimary"}})]},e.sidebarName)},t)}))]})]}),Object(P.jsx)(O.a,{item:!0,children:Object(P.jsx)(S.a,{onChange:function(e){i("light"===c?"dark":"light")},value:c,control:Object(P.jsx)(F.a,{checked:"dark"===c,color:"secondary"}),label:Object(P.jsx)(x.a,{variant:"button",children:"Dark Mode"}),labelPlacement:"start"})}),Object(P.jsxs)(O.a,{container:!0,item:!0,alignItems:"center",children:[Object(P.jsx)(O.a,{item:!0,xs:5,children:Object(P.jsx)(S.a,{onChange:U,value:D,control:Object(P.jsx)(F.a,{checked:"EUR"===D,color:"secondary"}),label:Object(P.jsx)(x.a,{variant:"button",children:"USD"}),labelPlacement:"start"})}),Object(P.jsx)(O.a,{item:!0,xs:7,children:Object(P.jsx)(L,{disableRipple:!0,onClick:U,children:Object(P.jsx)(x.a,{variant:"button",children:"EUR"})})})]})]})})}),Object(P.jsxs)("main",{className:e.content,children:[Object(P.jsx)(h.a,{}),Object(P.jsxs)(y.c,{children:[it.map((function(e,t){return Object(P.jsx)(y.a,{exact:!0,path:e.path,component:e.component},t)})),rt.map((function(e,t){return Object(P.jsx)(y.a,{exact:!0,path:e.path,component:e.component},t)}))]})]})]})})})}var st=a(189),dt=a(114);function jt(){var e=Object(n.useContext)(me),t=Object(o.a)(e,2),a=t[0],c=(a.status,a.updated),i=t[1],r=Object(n.useContext)(Oe),l=Object(o.a)(r,2),s=l[0],d=l[1],j=Object(n.useContext)(ze),b=Object(o.a)(j,2),h=b[0],u=b[1],x=Object(n.useContext)(Fe)[1],p=Object(st.b)().enqueueSnackbar,O=function(){var e=new Date;return e.getFullYear()+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getDate().toString().padStart(2,"0")};function g(){var e=new Date;return e.getFullYear()+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getDate().toString().padStart(2,"0")+" "+e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")+":"+e.getSeconds().toString().padStart(2,"0")}return Object(n.useEffect)((function(){return function(){var e=s.portfolio?JSON.parse(s.portfolio):[],t=[];if(e.forEach((function(e){t.push({coin:e.coin,number:e.number,price:e.last})})),0!==h.length)if(h[h.length-1].date===O()){var a=Object(dt.a)(h);a[a.length-1].coins=t,a[a.length-1].eur=s.eur,a[a.length-1].usd=s.usd,u(a)}else console.log(g()+" | get-performance"),pe&&pe.emit("get-performance")}(),function(){}}),[s]),Object(n.useEffect)((function(){return pe.on("status",(function(e){i({status:e,updated:c})})),pe.on("balances",(function(e){d(e),i({status:"connected",updated:e.time})})),pe.on("performance",(function(e){console.log(g()+" | ",e),u(e)})),pe.on("starting-balances",(function(e){!function(e){x(e)}(e)})),pe.on("event",(function(e,t){!function(e,t){var a="error"===e.type?"error":"success";p(t,{variant:a,autoHideDuration:8e3})}(e,t)})),pe.on("disconnect",(function(e){i({status:"disconnected",updated:c})})),function(){pe.disconnect()}}),[]),null}var bt=function(){return Object(P.jsx)(st.a,{maxSnack:5,children:Object(P.jsx)(fe,{children:Object(P.jsx)(ge,{children:Object(P.jsx)(He,{children:Object(P.jsx)(Ce,{children:Object(P.jsxs)(B,{children:[Object(P.jsx)(jt,{}),Object(P.jsx)(b.a,{}),Object(P.jsx)(lt,{})]})})})})})})};r.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(bt,{})}),document.getElementById("root"))}},[[557,1,2]]]);
//# sourceMappingURL=main.c7146280.chunk.js.map