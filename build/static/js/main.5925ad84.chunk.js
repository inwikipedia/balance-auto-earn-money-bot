(this.webpackJsonpbalance_bot_react=this.webpackJsonpbalance_bot_react||[]).push([[0],{407:function(e,t,a){},408:function(e,t,a){},563:function(e,t,a){},565:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(20),r=a.n(c),s=(a(407),a(408),a(15)),o=a(654),l=a(7),d=a(694),j=a(679),b=a(677),h=a(660),x=a(675),u=a(155),p=a(684),O=a(670),m=a(681),g=a(682),f=a(683),v=a(197),y=a(32),F=a(685),C=a(369),S=a(687),N=a(676),k=a(661),w=a(678),T=a(363),P=function(e,t){var a=i.a.useState(localStorage.getItem(e)||t),n=Object(s.a)(a,2),c=n[0],r=n[1];return i.a.useEffect((function(){localStorage.setItem(e,c)}),[c]),[c,r]},B=a(2),E=Object(n.createContext)(),I=function(e){var t=P("fiat","EUR")[0],a=Object(n.useState)(t),i=Object(s.a)(a,2),c=i[0],r=i[1];return Object(B.jsx)(E.Provider,{value:[c,r],children:e.children})},W=a(360),R=a.n(W),D=a(361),U=a.n(D),L=a(362),G=a.n(L),A=a(187),q=a.n(A),Y=a(107),z=a(5),J=a(14),M=a(663),_=a(664),H=a(659),X=a(662),V=a(657),K=a(658),$=a(695),Z=a(696),Q=a(692),ee=a(347),te=a.n(ee),ae=a(45);function ne(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function ie(e,t){return"desc"===e?function(e,a){return ne(e,a,t)}:function(e,a){return-ne(e,a,t)}}function ce(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}var re=[{id:"coin",align:"left",disablePadding:!0,label:"Coin"},{id:"amount",align:"right",disablePadding:!1,label:"Amount"},{id:"price",align:"right",disablePadding:!1,label:"BTC Price"},{id:"value",align:"right",disablePadding:!1,label:"BTC Value"},{id:"distribution",align:"right",disablePadding:!1,label:"Distribution %"},{id:"target",align:"right",disablePadding:!1,label:"Target %"},{id:"trade",align:"right",disablePadding:!1,label:"Trade"},{id:"side",align:"right",disablePadding:!1,label:"Order Side"}],se=Object(o.a)((function(e){return{headcolor:"light"===e.palette.type?{backgroundColor:"#aaaaaa"}:{backgroundColor:"#777777"}}}));function oe(e){var t,a=e.onSelectAllClick,n=e.order,i=e.orderBy,c=e.numSelected,r=e.rowCount,s=e.onRequestSort,o=e.headless,l=se();return t=o?null:Object(B.jsx)(Q.a,{indeterminate:c>0&&c<r,checked:r>0&&c===r,onChange:a,inputProps:{"aria-label":"select coins"}}),Object(B.jsx)(V.a,{children:Object(B.jsxs)(K.a,{className:l.headcolor,children:[Object(B.jsx)(H.a,{padding:"checkbox",children:t}),re.map((function(e){return Object(B.jsx)(H.a,{align:e.align,padding:e.disablePadding?"none":"default",sortDirection:i===e.id&&n,children:Object(B.jsxs)($.a,{active:i===e.id,direction:i===e.id?n:"asc",onClick:(t=e.id,function(e){s(e,t)}),children:[e.label,i===e.id?Object(B.jsx)("span",{className:l.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var t}))]})})}var le=Object(o.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(J.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),de=function(e){var t=le(),a=e.selected,n=e.headless,i=e.portfolio,c=e.handleOrder,r=e.setSelected,s=a.length;return Object(B.jsxs)(h.a,{className:Object(z.a)(t.root,Object(Y.a)({},t.highlight,s>0)),children:[s>0?Object(B.jsxs)(u.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[s," ",1===s?"coin":"coins"," selected: ",a.join()]}):Object(B.jsx)(u.a,{className:t.title,variant:"subtitle1",id:"tableTitle",component:"div",children:n?"Running in automatic mode":"Select coins to manually submit order"}),s>0&&Object(B.jsx)(k.a,{variant:"contained",color:"secondary",style:{width:"220px"},startIcon:Object(B.jsx)(te.a,{}),onClick:function(){r([]);for(var e=[],t=function(t){var n=i.find((function(e){return e.coin===a[t]}));"BTC"!==n.coin&&e.push(n)},n=0;n<a.length;n++)t(n);c(e)},children:"Submit Order"})]})},je=Object(o.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750,"& .MuiTableCell-sizeSmall":{paddingTop:"9px",paddingBottom:"9px"}},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function be(e,t){return parseFloat(e.toFixed(t))}function he(e){var t=je(),a=i.a.useState("asc"),n=Object(s.a)(a,2),c=n[0],r=n[1],o=i.a.useState("calories"),l=Object(s.a)(o,2),d=l[0],j=l[1],b=i.a.useState([]),h=Object(s.a)(b,2),x=h[0],u=h[1],p=Object(ae.a)(),O=e.balances,m=O.threshold,g=O.headless||!1,f=e.onOrder,v=O.portfolio?JSON.parse(O.portfolio):[];return Object(B.jsx)("div",{className:t.root,children:Object(B.jsxs)(C.a,{className:t.paper,children:[Object(B.jsx)(de,{selected:x,headless:g,portfolio:v,handleOrder:f,setSelected:u}),Object(B.jsx)(X.a,{children:Object(B.jsxs)(M.a,{className:t.table,size:"small","aria-labelledby":"tableTitle","aria-label":"enhanced table",children:[Object(B.jsx)(oe,{classes:t,numSelected:x.length,order:c,orderBy:d,onSelectAllClick:function(e){if(0!==x.length)u([]);else{var t=v.map((function(e){return e.coin})).filter((function(e){return"BTC"!==e}));u(t)}},onRequestSort:function(e,t){r(d===t&&"asc"===c?"desc":"asc"),j(t)},rowCount:v.length,headless:g}),Object(B.jsx)(_.a,{children:ce(v,ie(c,d)).map((function(e,t){var a,n,i=(a=e.coin,-1!==x.indexOf(a)),c="enhanced-table-checkbox-".concat(t),r=Object(B.jsx)("div",{style:{color:"#999999",width:"120px"},children:"-"}),s=e.side;return e.reverse&&(s+=" (reverse)"),"sell"===e.side?r=e.distribution/e.target-1>=m/100?Object(B.jsx)(Z.a,{label:s,style:{backgroundColor:p.palette.error.dark,color:"white",width:"120px"}}):Object(B.jsx)(Z.a,{label:s,style:{backgroundColor:p.palette.text.disabled,color:"white",width:"120px"}}):"buy"===e.side&&(r=e.distribution/e.target-1<=-m/100?Object(B.jsx)(Z.a,{label:s,style:{backgroundColor:p.palette.success.dark,color:"white",width:"120px"}}):Object(B.jsx)(Z.a,{label:s,style:{backgroundColor:p.palette.text.disabled,color:"white",width:"120px"}})),n=g||"BTC"===e.coin?null:Object(B.jsx)(Q.a,{checked:i,inputProps:{"aria-labelledby":c}}),Object(B.jsxs)(K.a,{hover:!0,onClick:function(t){return function(e,t){if(!g&&"BTC"!==t){var a=x.indexOf(t),n=[];-1===a?n=n.concat(x,t):0===a?n=n.concat(x.slice(1)):a===x.length-1?n=n.concat(x.slice(0,-1)):a>0&&(n=n.concat(x.slice(0,a),x.slice(a+1))),u(n)}}(0,e.coin)},role:"checkbox","aria-checked":i,tabIndex:-1,selected:i,children:[Object(B.jsx)(H.a,{padding:"checkbox",children:n}),Object(B.jsx)(H.a,{component:"th",id:c,scope:"row",padding:"none",children:e.coin}),Object(B.jsx)(H.a,{align:"right",children:e.number}),Object(B.jsx)(H.a,{align:"right",children:be(e.last,8)}),Object(B.jsx)(H.a,{align:"right",children:be(e.value,8)}),Object(B.jsx)(H.a,{align:"right",children:e.distribution}),Object(B.jsx)(H.a,{align:"right",children:e.target}),Object(B.jsx)(H.a,{align:"right",children:be(e.trade,8)}),Object(B.jsx)(H.a,{align:"right",children:r})]},e.coin)}))})]})})]})})}var xe=a(364);function ue(e){var t=Object(ae.a)().palette.type,a=e.balances,n=(a.portfolio?JSON.parse(a.portfolio):[]).map((function(e){return{id:e.coin,label:e.coin,value:e.distribution}}));return Object(B.jsx)(xe.a,{theme:{tooltip:{color:"light"===t?"#000000":"#FFFFFF",container:{background:"light"===t?"#FFFFFF":"#000000"}}},data:n,margin:{top:20,right:80,bottom:20,left:80},innerRadius:.5,padAngle:1,cornerRadius:7,colors:{scheme:"red_yellow_blue"},borderWidth:1,borderColor:{from:"color",modifiers:[["darker","0.2"]]},radialLabelsSkipAngle:10,radialLabelsTextColor:"light"===t?"#000000":"#FFFFFF",radialLabelsLinkColor:{from:"color"},sliceLabelsSkipAngle:10,sliceLabelsTextColor:"light"===t?"#000000":"#FFFFFF"})}var pe=a(353),Oe=a.n(pe)()("/"),me=Object(n.createContext)(),ge=function(e){var t=Object(n.useState)({}),a=Object(s.a)(t,2),i=a[0],c=a[1];return Object(B.jsx)(me.Provider,{value:[i,c],children:e.children})},fe=Object(n.createContext)(),ve=function(e){var t=Object(n.useState)({status:"disconnected",updated:"---"}),a=Object(s.a)(t,2),i=a[0],c=a[1];return Object(B.jsx)(fe.Provider,{value:[i,c],children:e.children})},ye=Object(o.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),height:"68px",minWidth:"420px"}}}));function Fe(){var e,t=ye(),a=Object(ae.a)(),i=Object(n.useContext)(fe)[0],c=i.status,r=i.updated;return e="connected"===c?Object(B.jsx)(Z.a,{label:c,style:{backgroundColor:a.palette.success.dark,color:"white",width:"90px"}}):Object(B.jsx)(Z.a,{label:c,style:{backgroundColor:a.palette.error.dark,color:"white",width:"110px"}}),Object(B.jsx)(C.a,{className:t.paper,children:Object(B.jsxs)(O.a,{container:!0,alignItems:"center",children:[Object(B.jsxs)(O.a,{container:!0,item:!0,alignItems:"center",xs:6,children:[Object(B.jsx)(O.a,{item:!0,xs:5,children:Object(B.jsx)(u.a,{children:"Server status: "})}),Object(B.jsx)(O.a,{item:!0,xs:7,children:e})]}),Object(B.jsx)(O.a,{container:!0,item:!0,alignItems:"center",xs:6,children:Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsxs)(u.a,{children:["Last update: ",Object(B.jsx)("b",{children:r})]})})})]})})}var Ce=Object(n.createContext)(),Se=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),i=a[0],c=a[1];return Object(B.jsx)(Ce.Provider,{value:[i,c],children:e.children})};function Ne(e){var t=Object(n.useContext)(Ce)[0],a=Object(n.useState)({}),i=Object(s.a)(a,2),c=i[0],r=i[1],o=e.balances,l=e.type,d=Object(n.useContext)(E)[0],j="btc"===l?"BTC":"fiat"===l?d:"Net BTC",b="net-result"===l?"Net change (BTC)":"".concat(j," value"),h="net-result"===l?"Net change (%)":"".concat(j," change");return Object(n.useEffect)((function(){var e,a=o.portfolio?JSON.parse(o.portfolio):[],n=0;a.forEach((function(e){n+=e.number*e.last})),"fiat"===l&&(n*="EUR"===d?o.eur:o.usd),e="btc"===l?100*(n/t.btc-1):"EUR"===d?100*(n/t.eur-1):100*(n/t.usd-1);var i=0;t.coins&&a.forEach((function(e){var a=t.coins.find((function(t){return t.coin===e.coin}));i+=a.number*e.last})),"net-result"===l&&(e=(n-i)/t.btc*100,n-=i),e=e?e<100?e.toFixed(2):e<1e3?e.toFixed(1):e.toFixed(0):"0",n=n?n<.1?n.toFixed(6):n<1?n.toFixed(5):n<10?n.toFixed(4):n<100?n.toFixed(3):n.toFixed(2):"0",r({value:n,change:e})}),[o,t,d]),Object(B.jsxs)(O.a,{container:!0,alignItems:"center",children:[Object(B.jsxs)(O.a,{container:!0,item:!0,direction:"column",alignItems:"center",xs:6,children:[Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(u.a,{variant:"h3",children:c.value})}),Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(u.a,{children:b})})]}),Object(B.jsxs)(O.a,{container:!0,item:!0,direction:"column",alignItems:"center",xs:6,children:[Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsxs)(u.a,{variant:"h3",children:[c.change,"%"]})}),Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(u.a,{children:h})})]})]})}var ke=Object(o.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)}}})),we=function(e){var t=ke(),a=Object(n.useContext)(me)[0],i=Object(n.useContext)(Ce)[0];return Object(n.useEffect)((function(){return Oe&&0===i.length&&Oe.emit("get-starting-balances"),function(){}}),[]),Object(B.jsx)("div",{className:t.root,children:Object(B.jsxs)(O.a,{container:!0,spacing:3,alignItems:"flex-start",children:[Object(B.jsx)(O.a,{item:!0,xs:6,children:Object(B.jsx)(u.a,{variant:"h3",noWrap:!0,children:"Portfolio"})}),Object(B.jsx)(O.a,{item:!0,xs:2}),Object(B.jsx)(O.a,{item:!0,xs:4,children:Object(B.jsx)(Fe,{})}),Object(B.jsx)(O.a,{item:!0,xs:4,children:Object(B.jsx)(C.a,{style:{height:"100px",minWidth:"420px"},className:t.paper,children:Object(B.jsx)(Ne,{balances:a,type:"btc"})})}),Object(B.jsx)(O.a,{item:!0,xs:4,children:Object(B.jsx)(C.a,{style:{height:"100px",minWidth:"420px"},className:t.paper,children:Object(B.jsx)(Ne,{balances:a,type:"fiat"})})}),Object(B.jsx)(O.a,{item:!0,xs:4,children:Object(B.jsx)(C.a,{style:{height:"100px",minWidth:"420px"},className:t.paper,children:Object(B.jsx)(Ne,{balances:a,type:"net-result"})})}),Object(B.jsx)(O.a,{item:!0,xs:8,children:Object(B.jsx)(he,{balances:a,onOrder:function(e){Oe.emit("market-order",e)}})}),Object(B.jsx)(O.a,{container:!0,item:!0,xs:4,children:Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(C.a,{style:{height:"500px"},className:t.paper,children:Object(B.jsx)(ue,{balances:a})})})})]})})},Te=a(671),Pe=a(672),Be=a(693),Ee=a(354),Ie=a.n(Ee),We=a(597),Re=Object(o.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(0),height:"68px",minWidth:"420px"},stepper:{padding:e.spacing(1)}}}));function De(e){var t=Re(),a=e.data||[],n="..",i="----/--/--";if(0!==a.length){var c=new Date(a[0].date);c.setDate(new Date(c).getDate()+1);var r=(new Date).getTime()-c.getTime();n=Math.round(r/864e5),i=c.getFullYear()+"/"+(c.getMonth()+1).toString().padStart(2,"0")+"/"+c.getDate().toString().padStart(2,"0")}return Object(B.jsx)(C.a,{className:t.paper,children:Object(B.jsxs)(O.a,{container:!0,alignItems:"center",children:[Object(B.jsx)(O.a,{item:!0,xs:3,children:Object(B.jsxs)(u.a,{align:"right",children:["Start ",Object(B.jsx)("b",{children:i})]})}),Object(B.jsx)(O.a,{item:!0,xs:6,children:Object(B.jsxs)(Te.a,{className:t.stepper,alternativeLabel:!0,activeStep:1,connector:Object(B.jsx)(Ue,{}),children:[Object(B.jsx)(Pe.a,{children:Object(B.jsx)(Be.a,{StepIconComponent:Ge})},0),Object(B.jsx)(Pe.a,{children:Object(B.jsx)(Be.a,{StepIconComponent:Ge})},1)]})}),Object(B.jsx)(O.a,{item:!0,xs:3,children:Object(B.jsxs)(u.a,{children:["Active ",Object(B.jsx)("b",{children:n})," ",1===n?"day":"days"]})})]})})}var Ue=Object(l.a)({alternativeLabel:{top:22},active:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},completed:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},line:{height:3,border:0,backgroundColor:"#eaeaf0",borderRadius:1}})(We.a),Le=Object(o.a)({root:{backgroundColor:"#ccc",zIndex:1,color:"#fff",width:50,height:50,display:"flex",borderRadius:"50%",justifyContent:"center",alignItems:"center"},active:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)",boxShadow:"0 4px 10px 0 rgba(0,0,0,.25)"},completed:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)"}});function Ge(e){var t,a=Le(),n=e.active,i=e.completed,c={1:Object(B.jsx)(q.a,{}),2:Object(B.jsx)(Ie.a,{})};return Object(B.jsx)("div",{className:Object(z.a)(a.root,(t={},Object(Y.a)(t,a.active,n),Object(Y.a)(t,a.completed,i),t)),children:c[String(e.icon)]})}var Ae=a(150);a(563);function qe(e){var t,a,i,c=Object(ae.a)().palette.type,r=Object(n.useContext)(Ce)[0],s=e.performance,o=e.type,l=e.title,d=e.balances,j=d.portfolio?JSON.parse(d.portfolio):[],b=[],h=[],x=[],u=[],p=[],O=[],m=[],g=[],f=Object(n.useContext)(E)[0];j.forEach((function(e,t){g[t]={coin:e.coin,initial:0}})),0!==r.length&&(a=r.btc,i="EUR"===f?r.eur:r.usd),0!==s.length&&s.forEach((function(e){var t="EUR"===f?e.eur:e.usd,n=0,c=0;e.coins.forEach((function(e){n+=e.number*e.price,c+=e.number*e.price*t}));var r=0;e.coins.forEach((function(e){g.find((function(t){return t.coin===e.coin}))&&(0===g.find((function(t){return t.coin===e.coin})).initial&&(g.find((function(t){return t.coin===e.coin})).initial=e.number),r+=g.find((function(t){return t.coin===e.coin})).initial*e.price)})),b.push({x:e.date,y:n}),x.push({x:e.date,y:100*(n/a-1)}),h.push({x:e.date,y:c}),u.push({x:e.date,y:100*(c/i-1)}),p.push({x:e.date,y:n-r}),O.push({x:e.date,y:(n-r)/a*100})})),"btc"===o?(t=[{id:"Total Value (BTC)",data:b}],m=[{id:"Total Change (%)",data:x}]):"fiat"===o?(l=l.replace("Fiat","".concat(f)),t=[{id:"Total Value (".concat(f,")"),data:h}],m=[{id:"Total Change (%)",data:u}]):(t=[{id:"Net Balancing Result (BTC)",data:p}],m=[{id:"Net Balancing Result (%)",data:O}]);var v=function(){return{axis:{ticks:{line:{stroke:"light"===c?"#000000":"#FFFFFF"},text:{fill:"light"===c?"#000000":"#FFFFFF"}},legend:{text:{fill:"light"===c?"#000000":"#FFFFFF"}}},crosshair:{line:{stroke:"light"===c?"#000000":"#FFFFFF"}}}};function y(e){var t={};return e.filter((function(e){return!t.hasOwnProperty(e)&&(t[e]=!0)}))}return Object(B.jsxs)("div",{className:"wrapper",children:[Object(B.jsx)("div",{children:Object(B.jsx)("b",{children:l})}),Object(B.jsx)("div",{className:"secondGraph",children:Object(B.jsx)(Ae.a,{data:t,sliceTooltip:function(e){var t=e.slice,a="light"===c?"#FFFFFF":"#000000",n="light"===c?"#000000":"#FFFFFF";return Object(B.jsx)("div",{style:{background:a,boxShadow:"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",padding:"9px 12px"},children:y(t.points).map((function(e){return Object(B.jsxs)("div",{style:{color:n,padding:"3px 0"},children:[e.serieId," ",Object(B.jsx)("strong",{children:e.data.yFormatted})]},e.id)}))})},theme:v(),margin:{top:40,right:90,bottom:50,left:90},xScale:{type:"time",format:"%Y/%m/%d",useUTC:!1,precision:"day"},xFormat:"time:%Y/%m/%d",yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},yFormat:" >-.6f",curve:"monotoneX",colors:["rgb(255,255,255,0)"],axisTop:null,axisRight:null,axisBottom:null,axisLeft:{legend:t[0].id,legendOffset:-80,legendPosition:"middle"},enablePoints:!1,enableGridX:!1,enableGridY:!1,enableSlices:"y",crosshairType:"y"})}),Object(B.jsx)("div",{className:"graphContainer",children:Object(B.jsx)(Ae.a,{data:m,theme:v(),margin:{top:40,right:90,bottom:50,left:90},xScale:{type:"time",format:"%Y/%m/%d",useUTC:!1,precision:"day"},xFormat:"time:%Y/%m/%d",yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},yFormat:" >-.6f",curve:"monotoneX",lineWidth:4,colors:["rgb(211,47,47)"],axisTop:null,axisBottom:null,axisRight:{legend:m[0].id,legendOffset:70,legendPosition:"middle"},axisLeft:null,enablePoints:!1,enableGridX:!1,enableGridY:!1,enableSlices:"y",crosshairType:"y"})})]})}function Ye(e){var t=Object(ae.a)().palette.type,a=e.performance,n=e.balances,i=n.portfolio?JSON.parse(n.portfolio):[],c=[],r=[],s=[];i.forEach((function(e,t){c.push(e.coin),s[t]={coin:e.coin,initial:0,data:[]}})),a!==[]&&c.forEach((function(e,t){"BTC"!==e&&(a.forEach((function(a){a.coins.forEach((function(n){n.coin===e&&(0===s[t].initial&&(s[t].initial=n.price),s[t].data.push({x:a.date,y:100*(n.price/s[t].initial-1)}))}))})),r.push({id:e,data:s[t].data}))}));function o(e){var t={};return e.filter((function(e){return!t.hasOwnProperty(e)&&(t[e]=!0)}))}return Object(B.jsxs)("div",{className:"wrapper",children:[Object(B.jsx)("div",{children:Object(B.jsx)("b",{children:e.title})}),Object(B.jsx)("div",{className:"graphContainer",children:Object(B.jsx)(Ae.a,{data:r,sliceTooltip:function(e){var a=e.slice,n="light"===t?"#FFFFFF":"#000000";return Object(B.jsx)("div",{style:{background:n,boxShadow:"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",padding:"9px 12px"},children:o(a.points).map((function(e){return Object(B.jsxs)("div",{style:{color:e.serieColor,padding:"3px 0"},children:[e.serieId," ",Object(B.jsxs)("strong",{children:[e.data.yFormatted,"%"]})]},e.id)}))})},theme:{axis:{ticks:{line:{stroke:"light"===t?"#000000":"#FFFFFF"},text:{fill:"light"===t?"#000000":"#FFFFFF"}},legend:{text:{fill:"light"===t?"#000000":"#FFFFFF"}}},crosshair:{line:{stroke:"light"===t?"#000000":"#FFFFFF"}},legends:{text:{fill:"light"===t?"#000000":"#FFFFFF"}}},margin:{top:50,right:110,bottom:50,left:80},xScale:{type:"time",format:"%Y/%m/%d",useUTC:!1,precision:"day"},xFormat:"time:%Y/%m/%d",yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},yFormat:" >-.2f",curve:"monotoneX",lineWidth:4,colors:{scheme:"red_yellow_blue"},axisTop:null,axisRight:null,axisBottom:null,axisLeft:{legend:"Change (%)",legendOffset:-70,legendPosition:"middle"},enablePoints:!1,enableGridX:!1,enableGridY:!1,enableSlices:"y",crosshairType:"y",legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",itemTextColor:"#ff0000",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})})]})}var ze=Object(n.createContext)(),Je=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),i=a[0],c=a[1];return Object(B.jsx)(ze.Provider,{value:[i,c],children:e.children})},Me=Object(o.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)}}})),_e=function(){var e=Me(),t=Object(n.useContext)(me)[0],a=Object(n.useContext)(ze)[0];return Object(B.jsx)("div",{className:e.root,children:Object(B.jsxs)(O.a,{container:!0,spacing:3,children:[Object(B.jsx)(O.a,{item:!0,xs:4,children:Object(B.jsx)(u.a,{variant:"h3",noWrap:!0,children:"Performance"})}),Object(B.jsx)(O.a,{item:!0,xs:4,children:Object(B.jsx)(De,{data:a})}),Object(B.jsx)(O.a,{item:!0,xs:4,children:Object(B.jsx)(Fe,{})}),Object(B.jsx)(O.a,{item:!0,xs:6,children:Object(B.jsx)(C.a,{style:{height:"360px"},className:e.paper,children:Object(B.jsx)(qe,{performance:a,balances:t,type:"btc",title:"Portfolio Value (BTC)"})})}),Object(B.jsx)(O.a,{item:!0,xs:6,children:Object(B.jsx)(C.a,{style:{height:"360px"},className:e.paper,children:Object(B.jsx)(qe,{performance:a,balances:t,type:"fiat",title:"Portfolio Value (Fiat)"})})}),Object(B.jsx)(O.a,{item:!0,xs:6,children:Object(B.jsx)(C.a,{style:{height:"360px"},className:e.paper,children:Object(B.jsx)(qe,{performance:a,balances:t,type:"net-result",title:"Net Balancing Result (BTC)"})})}),Object(B.jsx)(O.a,{item:!0,xs:6,children:Object(B.jsx)(C.a,{style:{height:"360px"},className:e.paper,children:Object(B.jsx)(Ye,{performance:a,balances:t,title:"Coin BTC Price Changes (%)"})})})]})})},He=a(686),Xe=a(674),Ve=a(698),Ke=a(688),$e=Object(l.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(H.a),Ze=Object(l.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(K.a),Qe=Object(o.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:200}},table:{minWidth:700},errortext:{color:"#ff0000"}}}));function et(){var e=Qe(),t=Object(n.useState)({rows:[],total:0}),a=Object(s.a)(t,2),i=a[0],c=a[1],r=Object(n.useState)({type:["order","error"],event:"",page:"1"}),o=Object(s.a)(r,2),l=o[0],d=o[1],j=Object(n.useState)({logs:[],total:0}),b=Object(s.a)(j,2),h=b[0],x=b[1];Object(n.useEffect)((function(){return function(e){var t=[];e.logs.reverse().forEach((function(e){t.push({time:e.time,type:e.type,event:e.event})})),c({rows:t,total:e.total})}(h),function(){}}),[h]);Object(n.useEffect)((function(){return Oe.on("event-history",(function(e,t){x({logs:e,total:t})})),Oe.on("event",(function(e,t){Oe&&Oe.emit("get-logs",l)})),function(){Oe.off("event-history")}}),[]),Object(n.useEffect)((function(){return Oe&&Oe.emit("get-logs",l),function(){}}),[l]);return Object(B.jsxs)(C.a,{pt:2,children:[Object(B.jsxs)(O.a,{container:!0,style:{height:"60px"},alignItems:"center",children:[Object(B.jsx)(S.a,{p:1,children:Object(B.jsx)(O.a,{item:!0,xs:3,children:Object(B.jsxs)(Ve.a,{value:l.type,onChange:function(e,t){d({type:t,event:l.event,page:l.page})},"aria-label":"type selection",children:[Object(B.jsx)(Xe.a,{value:"order","aria-label":"order",style:{height:"30px"},children:Object(B.jsx)(u.a,{variant:"overline",noWrap:!0,children:"Orders"})}),Object(B.jsx)(Xe.a,{value:"error","aria-label":"error",style:{height:"30px"},children:Object(B.jsx)(u.a,{variant:"overline",noWrap:!0,children:"Errors"})})]})})}),Object(B.jsx)(O.a,{item:!0,xs:2,children:Object(B.jsx)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:Object(B.jsx)(He.a,{id:"event-filter",label:"Filter events",color:"secondary",onChange:function(e){d({type:l.type,event:e.target.value,page:l.page})}})})}),Object(B.jsx)(O.a,{item:!0,xs:7})]}),Object(B.jsx)(X.a,{component:C.a,children:Object(B.jsxs)(M.a,{className:e.table,size:"small","aria-label":"customized table",children:[Object(B.jsx)(V.a,{children:Object(B.jsxs)(K.a,{children:[Object(B.jsx)($e,{style:{width:"170px"},children:"Time"}),Object(B.jsx)($e,{children:"Event"})]})}),Object(B.jsx)(_.a,{children:i.rows.map((function(t){return Object(B.jsxs)(Ze,{children:[Object(B.jsx)($e,{component:"th",scope:"row",children:Object(B.jsx)(u.a,{variant:"caption",children:t.time})}),Object(B.jsx)($e,{children:"error"===t.type?Object(B.jsx)(u.a,{variant:"body2",className:e.errortext,children:t.event}):Object(B.jsx)(u.a,{variant:"body2",children:t.event})})]},t.time+t.event)}))})]})}),Object(B.jsx)(S.a,{display:"flex",justifyContent:"flex-end",children:Object(B.jsx)(Ke.a,{count:Math.ceil(i.total/20),shape:"rounded",onChange:function(e,t){d({type:l.type,event:l.event,page:t})}})})]})}var tt=Object(o.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)}}})),at=function(e){var t=tt();return Object(B.jsx)("div",{className:t.root,children:Object(B.jsxs)(O.a,{container:!0,spacing:3,children:[Object(B.jsx)(O.a,{item:!0,xs:6,children:Object(B.jsx)(u.a,{variant:"h3",noWrap:!0,children:"Event History"})}),Object(B.jsx)(O.a,{item:!0,xs:2}),Object(B.jsx)(O.a,{item:!0,xs:4,children:Object(B.jsx)(Fe,{})}),Object(B.jsx)(O.a,{item:!0,xs:8,children:Object(B.jsx)(et,{})}),Object(B.jsx)(O.a,{item:!0,xs:4})]})})};function nt(){return Object(B.jsxs)(i.a.Fragment,{children:[Object(B.jsx)(u.a,{variant:"h6",gutterBottom:!0,children:"Exchange API Details"}),Object(B.jsxs)(O.a,{container:!0,spacing:3,children:[Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(He.a,{required:!0,id:"apiKey",name:"apiKey",label:"API Key",fullWidth:!0})}),Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(He.a,{required:!0,id:"apiSecret",name:"apiSecret",label:"API Secret",fullWidth:!0})})]})]})}function it(){return Object(B.jsxs)(i.a.Fragment,{children:[Object(B.jsx)(u.a,{variant:"h6",gutterBottom:!0,children:"Shipping address"}),Object(B.jsxs)(O.a,{container:!0,spacing:3,children:[Object(B.jsx)(O.a,{item:!0,xs:12,sm:6,children:Object(B.jsx)(He.a,{required:!0,id:"firstName",name:"firstName",label:"First name",fullWidth:!0,autoComplete:"given-name"})}),Object(B.jsx)(O.a,{item:!0,xs:12,sm:6,children:Object(B.jsx)(He.a,{required:!0,id:"lastName",name:"lastName",label:"Last name",fullWidth:!0,autoComplete:"family-name"})}),Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(He.a,{required:!0,id:"address1",name:"address1",label:"Address line 1",fullWidth:!0,autoComplete:"shipping address-line1"})}),Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(He.a,{id:"address2",name:"address2",label:"Address line 2",fullWidth:!0,autoComplete:"shipping address-line2"})}),Object(B.jsx)(O.a,{item:!0,xs:12,sm:6,children:Object(B.jsx)(He.a,{required:!0,id:"city",name:"city",label:"City",fullWidth:!0,autoComplete:"shipping address-level2"})}),Object(B.jsx)(O.a,{item:!0,xs:12,sm:6,children:Object(B.jsx)(He.a,{id:"state",name:"state",label:"State/Province/Region",fullWidth:!0})}),Object(B.jsx)(O.a,{item:!0,xs:12,sm:6,children:Object(B.jsx)(He.a,{required:!0,id:"zip",name:"zip",label:"Zip / Postal code",fullWidth:!0,autoComplete:"shipping postal-code"})}),Object(B.jsx)(O.a,{item:!0,xs:12,sm:6,children:Object(B.jsx)(He.a,{required:!0,id:"country",name:"country",label:"Country",fullWidth:!0,autoComplete:"shipping country"})}),Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(N.a,{control:Object(B.jsx)(Q.a,{color:"secondary",name:"saveAddress",value:"yes"}),label:"Use this address for payment details"})})]})]})}function ct(){return Object(B.jsxs)(i.a.Fragment,{children:[Object(B.jsx)(u.a,{variant:"h6",gutterBottom:!0,children:"General Settings"}),Object(B.jsxs)(O.a,{container:!0,spacing:3,children:[Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(He.a,{required:!0,id:"botName",name:"botName",label:"Bot Name",fullWidth:!0})}),Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(He.a,{required:!0,id:"threshold",name:"threshold",label:"Balancing Threshold (%)",fullWidth:!0})}),Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(N.a,{control:Object(B.jsx)(Q.a,{color:"secondary",name:"headless",value:"yes"}),label:"Run bot in headless mode"})})]})]})}var rt=Object(o.a)((function(e){return{layout:{width:"1000px",marginLeft:e.spacing(2),marginRight:e.spacing(2)},paper:Object(Y.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),st=["Exchange API","Coin Settings","General Settings"];function ot(e){switch(e){case 0:return Object(B.jsx)(nt,{});case 1:return Object(B.jsx)(it,{});case 2:return Object(B.jsx)(ct,{});default:throw new Error("Unknown step")}}function lt(){var e=rt(),t=Object(n.useState)(0),a=Object(s.a)(t,2),c=a[0],r=a[1];return Object(B.jsxs)(i.a.Fragment,{children:[Object(B.jsx)(b.a,{}),Object(B.jsx)("main",{className:e.layout,children:Object(B.jsxs)(C.a,{className:e.paper,children:[Object(B.jsx)(Te.a,{activeStep:c,className:e.stepper,children:st.map((function(e){return Object(B.jsx)(Pe.a,{children:Object(B.jsx)(Be.a,{children:e})},e)}))}),Object(B.jsx)(i.a.Fragment,{children:c===st.length?Object(B.jsxs)(i.a.Fragment,{children:[Object(B.jsx)(u.a,{variant:"h5",gutterBottom:!0,children:"Configuration has been saved"}),Object(B.jsx)(u.a,{variant:"subtitle1",children:"You can now leave this page"})]}):Object(B.jsxs)(i.a.Fragment,{children:[ot(c),Object(B.jsxs)("div",{className:e.buttons,children:[0!==c&&Object(B.jsx)(k.a,{onClick:function(){r(c-1)},className:e.button,children:"Back"}),Object(B.jsx)(k.a,{variant:"contained",color:"primary",onClick:function(){r(c+1)},className:e.button,children:c===st.length-1?"Save Configuation":"Next"})]})]})})]})})]})}var dt=Object(o.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)}}})),jt=function(){var e=dt();return Object(B.jsx)("div",{className:e.root,children:Object(B.jsxs)(O.a,{container:!0,spacing:3,children:[Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(u.a,{variant:"h3",noWrap:!0,children:"Configuration"})}),Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(lt,{})})]})})},bt=[{path:"/",sidebarName:"Portfolio",navbarName:"Portfolio",icon:R.a,component:we},{path:"/performance",sidebarName:"Performance",navbarName:"Performance",icon:U.a,component:_e},{path:"/history",sidebarName:"Event History",navbarName:"Event History",icon:G.a,component:at}],ht=[{path:"/configuration",sidebarName:"Configuration",navbarName:"Configuration",icon:q.a,component:jt}],xt=Object(o.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},logo:{maxWidth:60,padding:10},drawer:{width:240,flexShrink:0},drawerPaper:{width:240,height:"100%"},drawerContainer:{overflow:"auto"},content:{justify:"flex-start",alignItems:"flex-start",flexGrow:1,padding:e.spacing(2)}}}));function ut(){var e=P("mode","light"),t=Object(s.a)(e,2),a=t[0],i=t[1],c=P("fiat","EUR")[1],r=Object(n.useContext)(E),o=Object(s.a)(r,2),I=o[0],W=o[1],R=xt(),D=function(e){"EUR"===I?(W("USD"),c("USD")):(W("EUR"),c("EUR"))},U=Object(T.a)({palette:{type:a}}),L=Object(l.a)({root:{"&:hover":{backgroundColor:"transparent"},"&:click":{backgroundColor:"#f00"}}})(k.a);return Object(B.jsx)(w.a,{theme:U,children:Object(B.jsx)(v.a,{children:Object(B.jsxs)("div",{className:R.root,children:[Object(B.jsx)(b.a,{}),Object(B.jsx)(j.a,{position:"fixed",className:R.appBar,children:Object(B.jsxs)(h.a,{children:[Object(B.jsx)("img",{src:"/logo192.png",alt:"Balance-Bot Logo",className:R.logo}),Object(B.jsx)(u.a,{variant:"h6",noWrap:!0,children:"Balance Bot"})]})}),Object(B.jsx)(d.a,{className:R.drawer,variant:"permanent",children:Object(B.jsx)(C.a,{className:R.drawerPaper,children:Object(B.jsxs)(O.a,{container:!0,direction:"column",children:[Object(B.jsxs)(O.a,{item:!0,xs:12,children:[Object(B.jsx)(h.a,{}),Object(B.jsxs)("div",{className:R.drawerContainer,children:[Object(B.jsx)(x.a,{children:bt.map((function(e,t){return Object(B.jsx)(v.b,{to:e.path,style:{textDecoration:"none"},children:Object(B.jsxs)(m.a,{button:!0,children:[Object(B.jsx)(g.a,{children:Object(B.jsx)(e.icon,{})}),Object(B.jsx)(f.a,{primary:e.sidebarName,primaryTypographyProps:{variant:"button",color:"textPrimary"}})]},e.sidebarName)},t)}))}),Object(B.jsx)(p.a,{}),ht.map((function(e,t){return Object(B.jsx)(v.b,{to:e.path,style:{textDecoration:"none"},children:Object(B.jsxs)(m.a,{button:!0,children:[Object(B.jsx)(g.a,{children:Object(B.jsx)(e.icon,{})}),Object(B.jsx)(f.a,{primary:e.sidebarName,primaryTypographyProps:{variant:"button",color:"textPrimary"}})]},e.sidebarName)},t)}))]})]}),Object(B.jsx)(S.a,{pt:10}),Object(B.jsx)(p.a,{}),Object(B.jsxs)(S.a,{pt:1,pl:4,children:[Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(N.a,{onChange:function(e){i("light"===a?"dark":"light")},value:a,control:Object(B.jsx)(F.a,{checked:"dark"===a,color:"secondary"}),label:Object(B.jsx)(u.a,{variant:"button",children:"Dark Mode"}),labelPlacement:"start"})}),Object(B.jsxs)(O.a,{container:!0,item:!0,xs:12,alignItems:"center",children:[Object(B.jsx)(O.a,{item:!0,xs:6,children:Object(B.jsx)(N.a,{onChange:D,value:I,control:Object(B.jsx)(F.a,{checked:"EUR"===I,color:"secondary"}),label:Object(B.jsx)(u.a,{variant:"button",children:"USD"}),labelPlacement:"start"})}),Object(B.jsx)(O.a,{item:!0,xs:6,children:Object(B.jsx)(L,{disableRipple:!0,onClick:D,children:Object(B.jsx)(u.a,{variant:"button",children:"EUR"})})})]})]})]})})}),Object(B.jsxs)("main",{className:R.content,children:[Object(B.jsx)(h.a,{}),Object(B.jsxs)(y.c,{children:[bt.map((function(e,t){return Object(B.jsx)(y.a,{exact:!0,path:e.path,component:e.component},t)})),ht.map((function(e,t){return Object(B.jsx)(y.a,{exact:!0,path:e.path,component:e.component},t)}))]})]})]})})})}var pt=a(189),Ot=a(115);function mt(){var e=Object(n.useContext)(fe),t=Object(s.a)(e,2),a=t[0],i=(a.status,a.updated),c=t[1],r=Object(n.useContext)(me),o=Object(s.a)(r,2),l=o[0],d=o[1],j=Object(n.useContext)(ze),b=Object(s.a)(j,2),h=b[0],x=b[1],u=Object(n.useContext)(Ce)[1],p=Object(pt.b)().enqueueSnackbar,O=function(){var e=new Date;return e.getFullYear()+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getDate().toString().padStart(2,"0")};return Object(n.useEffect)((function(){return function(){var e=l.portfolio?JSON.parse(l.portfolio):[],t=[];if(e.forEach((function(e){t.push({coin:e.coin,number:e.number,price:e.last})})),0!==h.length)if(h[h.length-1].date===O()){var a=Object(Ot.a)(h);a[a.length-1].coins=t,a[a.length-1].eur=l.eur,a[a.length-1].usd=l.usd,x(a)}else Oe&&Oe.emit("get-performance")}(),function(){}}),[l]),Object(n.useEffect)((function(){return Oe.on("status",(function(e){c({status:e,updated:i})})),Oe.on("balances",(function(e){d(e),c({status:"connected",updated:e.time})})),Oe.on("performance",(function(e){x(e)})),Oe.on("starting-balances",(function(e){!function(e){u(e)}(e)})),Oe.on("event",(function(e,t){!function(e,t){var a="error"===e.type?"error":"success";p(t,{variant:a,autoHideDuration:8e3})}(e,t)})),Oe.on("disconnect",(function(e){c({status:"disconnected",updated:i})})),function(){Oe.disconnect()}}),[]),null}var gt=function(){return Object(B.jsx)(pt.a,{maxSnack:5,children:Object(B.jsx)(ve,{children:Object(B.jsx)(ge,{children:Object(B.jsx)(Je,{children:Object(B.jsx)(Se,{children:Object(B.jsxs)(I,{children:[Object(B.jsx)(mt,{}),Object(B.jsx)(b.a,{}),Object(B.jsx)(ut,{})]})})})})})})};r.a.render(Object(B.jsx)(i.a.StrictMode,{children:Object(B.jsx)(gt,{})}),document.getElementById("root"))}},[[565,1,2]]]);
//# sourceMappingURL=main.5925ad84.chunk.js.map