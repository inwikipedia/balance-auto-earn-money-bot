(this.webpackJsonpbalance_bot_react=this.webpackJsonpbalance_bot_react||[]).push([[0],{407:function(e,t,a){},408:function(e,t,a){},563:function(e,t,a){},565:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(20),r=a.n(i),o=(a(407),a(408),a(15)),s=a(654),l=a(7),d=a(694),j=a(679),b=a(677),h=a(660),x=a(675),u=a(155),p=a(684),O=a(670),g=a(681),m=a(682),f=a(683),v=a(197),y=a(32),F=a(685),C=a(369),S=a(687),k=a(676),N=a(661),w=a(678),T=a(363),P=function(e,t){var a=c.a.useState(localStorage.getItem(e)||t),n=Object(o.a)(a,2),i=n[0],r=n[1];return c.a.useEffect((function(){localStorage.setItem(e,i)}),[i]),[i,r]},B=a(3),E=Object(n.createContext)(),I=function(e){var t=P("fiat","EUR")[0],a=Object(n.useState)(t),c=Object(o.a)(a,2),i=c[0],r=c[1];return Object(B.jsx)(E.Provider,{value:[i,r],children:e.children})},R=a(360),W=a.n(R),D=a(361),U=a.n(D),G=a(362),L=a.n(G),Y=a(187),A=a.n(Y),z=a(107),J=a(5),M=a(14),_=a(663),q=a(664),H=a(659),X=a(662),V=a(657),K=a(658),$=a(695),Q=a(696),Z=a(692),ee=a(347),te=a.n(ee),ae=a(45);function ne(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function ce(e,t){return"desc"===e?function(e,a){return ne(e,a,t)}:function(e,a){return-ne(e,a,t)}}function ie(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}var re=[{id:"coin",align:"left",disablePadding:!0,label:"Coin"},{id:"amount",align:"right",disablePadding:!1,label:"Amount"},{id:"price",align:"right",disablePadding:!1,label:"BTC Price"},{id:"value",align:"right",disablePadding:!1,label:"BTC Value"},{id:"distribution",align:"right",disablePadding:!1,label:"Distribution %"},{id:"target",align:"right",disablePadding:!1,label:"Target %"},{id:"trade",align:"right",disablePadding:!1,label:"Trade"},{id:"side",align:"right",disablePadding:!1,label:"Order Side"}],oe=Object(s.a)((function(e){return{headcolor:"light"===e.palette.type?{backgroundColor:"#aaaaaa"}:{backgroundColor:"#777777"}}}));function se(e){var t,a=e.onSelectAllClick,n=e.order,c=e.orderBy,i=e.numSelected,r=e.rowCount,o=e.onRequestSort,s=e.headless,l=oe();return t=s?null:Object(B.jsx)(Z.a,{indeterminate:i>0&&i<r,checked:r>0&&i===r,onChange:a,inputProps:{"aria-label":"select coins"}}),Object(B.jsx)(V.a,{children:Object(B.jsxs)(K.a,{className:l.headcolor,children:[Object(B.jsx)(H.a,{padding:"checkbox",children:t}),re.map((function(e){return Object(B.jsx)(H.a,{align:e.align,padding:e.disablePadding?"none":"default",sortDirection:c===e.id&&n,children:Object(B.jsxs)($.a,{active:c===e.id,direction:c===e.id?n:"asc",onClick:(t=e.id,function(e){o(e,t)}),children:[e.label,c===e.id?Object(B.jsx)("span",{className:l.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var t}))]})})}var le=Object(s.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(M.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),de=function(e){var t=le(),a=e.selected,n=e.headless,c=e.portfolio,i=e.handleOrder,r=e.setSelected,o=a.length;return Object(B.jsxs)(h.a,{className:Object(J.a)(t.root,Object(z.a)({},t.highlight,o>0)),children:[o>0?Object(B.jsxs)(u.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[o," ",1===o?"coin":"coins"," selected: ",a.join()]}):Object(B.jsx)(u.a,{className:t.title,variant:"subtitle1",id:"tableTitle",component:"div",children:n?"Running in automatic mode":"Select coins to manually submit order"}),o>0&&Object(B.jsx)(N.a,{variant:"contained",color:"secondary",style:{width:"220px"},startIcon:Object(B.jsx)(te.a,{}),onClick:function(){r([]);for(var e=[],t=function(t){var n=c.find((function(e){return e.coin===a[t]}));"BTC"!==n.coin&&e.push(n)},n=0;n<a.length;n++)t(n);i(e)},children:"Submit Order"})]})},je=Object(s.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750,"& .MuiTableCell-sizeSmall":{paddingTop:"9px",paddingBottom:"9px"}},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function be(e,t){return parseFloat(e.toFixed(t))}function he(e){var t=je(),a=c.a.useState("asc"),n=Object(o.a)(a,2),i=n[0],r=n[1],s=c.a.useState("calories"),l=Object(o.a)(s,2),d=l[0],j=l[1],b=c.a.useState([]),h=Object(o.a)(b,2),x=h[0],u=h[1],p=Object(ae.a)(),O=e.balances,g=O.threshold,m=O.headless||!1,f=e.onOrder,v=O.portfolio?JSON.parse(O.portfolio):[];return Object(B.jsx)("div",{className:t.root,children:Object(B.jsxs)(C.a,{className:t.paper,children:[Object(B.jsx)(de,{selected:x,headless:m,portfolio:v,handleOrder:f,setSelected:u}),Object(B.jsx)(X.a,{children:Object(B.jsxs)(_.a,{className:t.table,size:"small","aria-labelledby":"tableTitle","aria-label":"enhanced table",children:[Object(B.jsx)(se,{classes:t,numSelected:x.length,order:i,orderBy:d,onSelectAllClick:function(e){if(0!==x.length)u([]);else{var t=v.map((function(e){return e.coin})).filter((function(e){return"BTC"!==e}));u(t)}},onRequestSort:function(e,t){r(d===t&&"asc"===i?"desc":"asc"),j(t)},rowCount:v.length,headless:m}),Object(B.jsx)(q.a,{children:ie(v,ce(i,d)).map((function(e,t){var a,n,c=(a=e.coin,-1!==x.indexOf(a)),i="enhanced-table-checkbox-".concat(t),r=Object(B.jsx)("div",{style:{color:"#999999",width:"120px"},children:"-"}),o=e.side;return e.reverse&&(o+=" (reverse)"),"sell"===e.side?r=e.distribution/e.target-1>=g/100?Object(B.jsx)(Q.a,{label:o,style:{backgroundColor:p.palette.error.dark,color:"white",width:"120px"}}):Object(B.jsx)(Q.a,{label:o,style:{backgroundColor:p.palette.text.disabled,color:"white",width:"120px"}}):"buy"===e.side&&(r=e.distribution/e.target-1<=-g/100?Object(B.jsx)(Q.a,{label:o,style:{backgroundColor:p.palette.success.dark,color:"white",width:"120px"}}):Object(B.jsx)(Q.a,{label:o,style:{backgroundColor:p.palette.text.disabled,color:"white",width:"120px"}})),n=m||"BTC"===e.coin?null:Object(B.jsx)(Z.a,{checked:c,inputProps:{"aria-labelledby":i}}),Object(B.jsxs)(K.a,{hover:!0,onClick:function(t){return function(e,t){if(!m&&"BTC"!==t){var a=x.indexOf(t),n=[];-1===a?n=n.concat(x,t):0===a?n=n.concat(x.slice(1)):a===x.length-1?n=n.concat(x.slice(0,-1)):a>0&&(n=n.concat(x.slice(0,a),x.slice(a+1))),u(n)}}(0,e.coin)},role:"checkbox","aria-checked":c,tabIndex:-1,selected:c,children:[Object(B.jsx)(H.a,{padding:"checkbox",children:n}),Object(B.jsx)(H.a,{component:"th",id:i,scope:"row",padding:"none",children:e.coin}),Object(B.jsx)(H.a,{align:"right",children:e.number}),Object(B.jsx)(H.a,{align:"right",children:be(e.last,8)}),Object(B.jsx)(H.a,{align:"right",children:be(e.value,8)}),Object(B.jsx)(H.a,{align:"right",children:e.distribution}),Object(B.jsx)(H.a,{align:"right",children:e.target}),Object(B.jsx)(H.a,{align:"right",children:be(e.trade,8)}),Object(B.jsx)(H.a,{align:"right",children:r})]},e.coin)}))})]})})]})})}var xe=a(364);function ue(e){var t=Object(ae.a)().palette.type,a=e.balances,n=(a.portfolio?JSON.parse(a.portfolio):[]).map((function(e){return{id:e.coin,label:e.coin,value:e.distribution}}));return Object(B.jsx)(xe.a,{theme:{tooltip:{color:"light"===t?"#000000":"#FFFFFF",container:{background:"light"===t?"#FFFFFF":"#000000"}}},data:n,margin:{top:20,right:80,bottom:20,left:80},innerRadius:.5,padAngle:1,cornerRadius:7,colors:{scheme:"red_yellow_blue"},borderWidth:1,borderColor:{from:"color",modifiers:[["darker","0.2"]]},radialLabelsSkipAngle:10,radialLabelsTextColor:"light"===t?"#000000":"#FFFFFF",radialLabelsLinkColor:{from:"color"},sliceLabelsSkipAngle:10,sliceLabelsTextColor:"light"===t?"#000000":"#FFFFFF"})}var pe=a(353),Oe=a.n(pe)()("/"),ge=Object(n.createContext)(),me=function(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),c=a[0],i=a[1];return Object(B.jsx)(ge.Provider,{value:[c,i],children:e.children})},fe=Object(n.createContext)(),ve=function(e){var t=Object(n.useState)({status:"disconnected",updated:"---"}),a=Object(o.a)(t,2),c=a[0],i=a[1];return Object(B.jsx)(fe.Provider,{value:[c,i],children:e.children})},ye=Object(s.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),height:"68px",minWidth:"420px"}}}));function Fe(){var e,t=ye(),a=Object(ae.a)(),c=Object(n.useContext)(fe)[0],i=c.status,r=c.updated;return e="connected"===i?Object(B.jsx)(Q.a,{label:i,style:{backgroundColor:a.palette.success.dark,color:"white",width:"90px"}}):Object(B.jsx)(Q.a,{label:i,style:{backgroundColor:a.palette.error.dark,color:"white",width:"110px"}}),Object(B.jsx)(C.a,{className:t.paper,children:Object(B.jsxs)(O.a,{container:!0,alignItems:"center",children:[Object(B.jsxs)(O.a,{container:!0,item:!0,alignItems:"center",xs:6,children:[Object(B.jsx)(O.a,{item:!0,xs:5,children:Object(B.jsx)(u.a,{children:"Server status: "})}),Object(B.jsx)(O.a,{item:!0,xs:7,children:e})]}),Object(B.jsx)(O.a,{container:!0,item:!0,alignItems:"center",xs:6,children:Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsxs)(u.a,{children:["Last update: ",Object(B.jsx)("b",{children:r})]})})})]})})}var Ce=Object(n.createContext)(),Se=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],i=a[1];return Object(B.jsx)(Ce.Provider,{value:[c,i],children:e.children})};function ke(e){var t=Object(n.useContext)(Ce)[0],a=Object(n.useState)({}),c=Object(o.a)(a,2),i=c[0],r=c[1],s=e.balances,l=e.type,d=Object(n.useContext)(E)[0],j="btc"===l?"BTC":"fiat"===l?d:"Net BTC",b="net-result"===l?"Net change (BTC)":"".concat(j," value"),h="net-result"===l?"Net change (%)":"".concat(j," change");return Object(n.useEffect)((function(){var e,a=s.portfolio?JSON.parse(s.portfolio):[],n=0;a.forEach((function(e){n+=e.number*e.last})),"fiat"===l&&(n*="EUR"===d?s.eur:s.usd),e="btc"===l?100*(n/t.btc-1):"EUR"===d?100*(n/t.eur-1):100*(n/t.usd-1);var c=0;t.coins&&a.forEach((function(e){var a=t.coins.find((function(t){return t.coin===e.coin}));c+=a.number*e.last})),"net-result"===l&&(e=(n-c)/t.btc*100,n-=c),e=e?e<100?e.toFixed(2):e<1e3?e.toFixed(1):e.toFixed(0):"0",n=n?n<.1?n.toFixed(6):n<1?n.toFixed(5):n<10?n.toFixed(4):n<100?n.toFixed(3):n.toFixed(2):"0",r({value:n,change:e})}),[s,t,d]),Object(B.jsxs)(O.a,{container:!0,alignItems:"center",children:[Object(B.jsxs)(O.a,{container:!0,item:!0,direction:"column",alignItems:"center",xs:6,children:[Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(u.a,{variant:"h3",children:i.value})}),Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(u.a,{children:b})})]}),Object(B.jsxs)(O.a,{container:!0,item:!0,direction:"column",alignItems:"center",xs:6,children:[Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsxs)(u.a,{variant:"h3",children:[i.change,"%"]})}),Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(u.a,{children:h})})]})]})}var Ne=Object(s.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)}}})),we=function(e){var t=Ne(),a=Object(n.useContext)(ge)[0],c=Object(n.useContext)(Ce)[0];return Object(n.useEffect)((function(){return Oe&&0===c.length&&Oe.emit("get-starting-balances"),function(){}}),[]),Object(B.jsx)("div",{className:t.root,children:Object(B.jsxs)(O.a,{container:!0,spacing:3,alignItems:"flex-start",children:[Object(B.jsx)(O.a,{item:!0,xs:6,children:Object(B.jsx)(u.a,{variant:"h3",noWrap:!0,children:"Portfolio"})}),Object(B.jsx)(O.a,{item:!0,xs:2}),Object(B.jsx)(O.a,{item:!0,xs:4,children:Object(B.jsx)(Fe,{})}),Object(B.jsx)(O.a,{item:!0,xs:4,children:Object(B.jsx)(C.a,{style:{height:"100px",minWidth:"420px"},className:t.paper,children:Object(B.jsx)(ke,{balances:a,type:"btc"})})}),Object(B.jsx)(O.a,{item:!0,xs:4,children:Object(B.jsx)(C.a,{style:{height:"100px",minWidth:"420px"},className:t.paper,children:Object(B.jsx)(ke,{balances:a,type:"fiat"})})}),Object(B.jsx)(O.a,{item:!0,xs:4,children:Object(B.jsx)(C.a,{style:{height:"100px",minWidth:"420px"},className:t.paper,children:Object(B.jsx)(ke,{balances:a,type:"net-result"})})}),Object(B.jsx)(O.a,{item:!0,xs:8,children:Object(B.jsx)(he,{balances:a,onOrder:function(e){Oe.emit("market-order",e)}})}),Object(B.jsx)(O.a,{container:!0,item:!0,xs:4,children:Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(C.a,{style:{height:"500px"},className:t.paper,children:Object(B.jsx)(ue,{balances:a})})})})]})})},Te=a(671),Pe=a(672),Be=a(693),Ee=a(354),Ie=a.n(Ee),Re=a(597),We=Object(s.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(0),height:"68px",minWidth:"420px"},stepper:{padding:e.spacing(1)}}}));function De(e){var t=We(),a=e.data||[],n="..",c="----/--/--";if(0!==a.length){var i=new Date(a[0].date);i.setDate(new Date(i).getDate()+1);var r=(new Date).getTime()-i.getTime();n=Math.round(r/864e5),c=i.getFullYear()+"/"+(i.getMonth()+1).toString().padStart(2,"0")+"/"+i.getDate().toString().padStart(2,"0")}return Object(B.jsx)(C.a,{className:t.paper,children:Object(B.jsxs)(O.a,{container:!0,alignItems:"center",children:[Object(B.jsx)(O.a,{item:!0,xs:3,children:Object(B.jsxs)(u.a,{align:"right",children:["Start ",Object(B.jsx)("b",{children:c})]})}),Object(B.jsx)(O.a,{item:!0,xs:6,children:Object(B.jsxs)(Te.a,{className:t.stepper,alternativeLabel:!0,activeStep:1,connector:Object(B.jsx)(Ue,{}),children:[Object(B.jsx)(Pe.a,{children:Object(B.jsx)(Be.a,{StepIconComponent:Le})},0),Object(B.jsx)(Pe.a,{children:Object(B.jsx)(Be.a,{StepIconComponent:Le})},1)]})}),Object(B.jsx)(O.a,{item:!0,xs:3,children:Object(B.jsxs)(u.a,{children:["Active ",Object(B.jsx)("b",{children:n})," ",1===n?"day":"days"]})})]})})}var Ue=Object(l.a)({alternativeLabel:{top:22},active:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},completed:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},line:{height:3,border:0,backgroundColor:"#eaeaf0",borderRadius:1}})(Re.a),Ge=Object(s.a)({root:{backgroundColor:"#ccc",zIndex:1,color:"#fff",width:50,height:50,display:"flex",borderRadius:"50%",justifyContent:"center",alignItems:"center"},active:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)",boxShadow:"0 4px 10px 0 rgba(0,0,0,.25)"},completed:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)"}});function Le(e){var t,a=Ge(),n=e.active,c=e.completed,i={1:Object(B.jsx)(A.a,{}),2:Object(B.jsx)(Ie.a,{})};return Object(B.jsx)("div",{className:Object(J.a)(a.root,(t={},Object(z.a)(t,a.active,n),Object(z.a)(t,a.completed,c),t)),children:i[String(e.icon)]})}var Ye=a(150);a(563);function Ae(e){var t,a,c,i=Object(ae.a)().palette.type,r=Object(n.useContext)(Ce)[0],o=e.performance,s=e.type,l=e.title,d=e.balances,j=d.portfolio?JSON.parse(d.portfolio):[],b=[],h=[],x=[],u=[],p=[],O=[],g=[],m=[],f=Object(n.useContext)(E)[0];j.forEach((function(e,t){m[t]={coin:e.coin,initial:0}})),0!==r.length&&(a=r.btc,c="EUR"===f?r.eur:r.usd),0!==o.length&&o.forEach((function(e){var t="EUR"===f?e.eur:e.usd,n=0,i=0;e.coins.forEach((function(e){n+=e.number*e.price,i+=e.number*e.price*t}));var r=0;e.coins.forEach((function(e){m.find((function(t){return t.coin===e.coin}))&&(0===m.find((function(t){return t.coin===e.coin})).initial&&(m.find((function(t){return t.coin===e.coin})).initial=e.number),r+=m.find((function(t){return t.coin===e.coin})).initial*e.price)})),b.push({x:e.date,y:n}),x.push({x:e.date,y:100*(n/a-1)}),h.push({x:e.date,y:i}),u.push({x:e.date,y:100*(i/c-1)}),p.push({x:e.date,y:n-r}),O.push({x:e.date,y:(n-r)/a*100})})),"btc"===s?(t=[{id:"Total Value (BTC)",data:b}],g=[{id:"Total Change (%)",data:x}]):"fiat"===s?(l=l.replace("Fiat","".concat(f)),t=[{id:"Total Value (".concat(f,")"),data:h}],g=[{id:"Total Change (%)",data:u}]):(t=[{id:"Net Balancing Result (BTC)",data:p}],g=[{id:"Net Balancing Result (%)",data:O}]);var v=function(){return{axis:{ticks:{line:{stroke:"light"===i?"#000000":"#FFFFFF"},text:{fill:"light"===i?"#000000":"#FFFFFF"}},legend:{text:{fill:"light"===i?"#000000":"#FFFFFF"}}},crosshair:{line:{stroke:"light"===i?"#000000":"#FFFFFF"}}}};function y(e){var t={};return e.filter((function(e){return!t.hasOwnProperty(e)&&(t[e]=!0)}))}return Object(B.jsxs)("div",{className:"wrapper",children:[Object(B.jsx)("div",{children:Object(B.jsx)("b",{children:l})}),Object(B.jsx)("div",{className:"secondGraph",children:Object(B.jsx)(Ye.a,{data:t,sliceTooltip:function(e){var t=e.slice,a="light"===i?"#FFFFFF":"#000000",n="light"===i?"#000000":"#FFFFFF";return Object(B.jsx)("div",{style:{background:a,boxShadow:"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",padding:"9px 12px"},children:y(t.points).map((function(e){return Object(B.jsxs)("div",{style:{color:n,padding:"3px 0"},children:[e.serieId," ",Object(B.jsx)("strong",{children:e.data.yFormatted})]},e.id)}))})},theme:v(),margin:{top:40,right:90,bottom:50,left:90},xScale:{type:"time",format:"%Y/%m/%d",useUTC:!1,precision:"day"},xFormat:"time:%Y/%m/%d",yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},yFormat:" >-.6f",curve:"monotoneX",colors:["rgb(255,255,255,0)"],axisTop:null,axisRight:null,axisBottom:null,axisLeft:{legend:t[0].id,legendOffset:-80,legendPosition:"middle"},enablePoints:!1,enableGridX:!1,enableGridY:!1,enableSlices:"y",crosshairType:"y"})}),Object(B.jsx)("div",{className:"graphContainer",children:Object(B.jsx)(Ye.a,{data:g,theme:v(),margin:{top:40,right:90,bottom:50,left:90},xScale:{type:"time",format:"%Y/%m/%d",useUTC:!1,precision:"day"},xFormat:"time:%Y/%m/%d",yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},yFormat:" >-.6f",curve:"monotoneX",lineWidth:4,colors:["rgb(211,47,47)"],axisTop:null,axisBottom:null,axisRight:{legend:g[0].id,legendOffset:70,legendPosition:"middle"},axisLeft:null,enablePoints:!1,enableGridX:!1,enableGridY:!1,enableSlices:"y",crosshairType:"y"})})]})}function ze(e){var t=Object(ae.a)().palette.type,a=e.performance,n=e.balances,c=n.portfolio?JSON.parse(n.portfolio):[],i=[],r=[],o=[];c.forEach((function(e,t){i.push(e.coin),o[t]={coin:e.coin,initial:0,data:[]}})),a!==[]&&i.forEach((function(e,t){"BTC"!==e&&(a.forEach((function(a){a.coins.forEach((function(n){n.coin===e&&(0===o[t].initial&&(o[t].initial=n.price),o[t].data.push({x:a.date,y:100*(n.price/o[t].initial-1)}))}))})),r.push({id:e,data:o[t].data}))}));function s(e){var t={};return e.filter((function(e){return!t.hasOwnProperty(e)&&(t[e]=!0)}))}return Object(B.jsxs)("div",{className:"wrapper",children:[Object(B.jsx)("div",{children:Object(B.jsx)("b",{children:e.title})}),Object(B.jsx)("div",{className:"graphContainer",children:Object(B.jsx)(Ye.a,{data:r,sliceTooltip:function(e){var a=e.slice,n="light"===t?"#FFFFFF":"#000000";return Object(B.jsx)("div",{style:{background:n,boxShadow:"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",padding:"9px 12px"},children:s(a.points).map((function(e){return Object(B.jsxs)("div",{style:{color:e.serieColor,padding:"3px 0"},children:[e.serieId," ",Object(B.jsxs)("strong",{children:[e.data.yFormatted,"%"]})]},e.id)}))})},theme:{axis:{ticks:{line:{stroke:"light"===t?"#000000":"#FFFFFF"},text:{fill:"light"===t?"#000000":"#FFFFFF"}},legend:{text:{fill:"light"===t?"#000000":"#FFFFFF"}}},crosshair:{line:{stroke:"light"===t?"#000000":"#FFFFFF"}},legends:{text:{fill:"light"===t?"#000000":"#FFFFFF"}}},margin:{top:50,right:110,bottom:50,left:80},xScale:{type:"time",format:"%Y/%m/%d",useUTC:!1,precision:"day"},xFormat:"time:%Y/%m/%d",yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},yFormat:" >-.2f",curve:"monotoneX",lineWidth:4,colors:{scheme:"red_yellow_blue"},axisTop:null,axisRight:null,axisBottom:null,axisLeft:{legend:"Change (%)",legendOffset:-70,legendPosition:"middle"},enablePoints:!1,enableGridX:!1,enableGridY:!1,enableSlices:"y",crosshairType:"y",legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",itemTextColor:"#ff0000",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})})]})}var Je=Object(n.createContext)(),Me=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],i=a[1];return Object(B.jsx)(Je.Provider,{value:[c,i],children:e.children})},_e=Object(s.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)}}})),qe=function(){var e=_e(),t=Object(n.useContext)(ge)[0],a=Object(n.useContext)(Je)[0];return Object(B.jsx)("div",{className:e.root,children:Object(B.jsxs)(O.a,{container:!0,spacing:3,children:[Object(B.jsx)(O.a,{item:!0,xs:4,children:Object(B.jsx)(u.a,{variant:"h3",noWrap:!0,children:"Performance"})}),Object(B.jsx)(O.a,{item:!0,xs:4,children:Object(B.jsx)(De,{data:a})}),Object(B.jsx)(O.a,{item:!0,xs:4,children:Object(B.jsx)(Fe,{})}),Object(B.jsx)(O.a,{item:!0,xs:6,children:Object(B.jsx)(C.a,{style:{height:"360px"},className:e.paper,children:Object(B.jsx)(Ae,{performance:a,balances:t,type:"btc",title:"Portfolio Value (BTC)"})})}),Object(B.jsx)(O.a,{item:!0,xs:6,children:Object(B.jsx)(C.a,{style:{height:"360px"},className:e.paper,children:Object(B.jsx)(Ae,{performance:a,balances:t,type:"fiat",title:"Portfolio Value (Fiat)"})})}),Object(B.jsx)(O.a,{item:!0,xs:6,children:Object(B.jsx)(C.a,{style:{height:"360px"},className:e.paper,children:Object(B.jsx)(Ae,{performance:a,balances:t,type:"net-result",title:"Net Balancing Result (BTC)"})})}),Object(B.jsx)(O.a,{item:!0,xs:6,children:Object(B.jsx)(C.a,{style:{height:"360px"},className:e.paper,children:Object(B.jsx)(ze,{performance:a,balances:t,title:"Coin BTC Price Changes (%)"})})})]})})},He=a(686),Xe=a(674),Ve=a(698),Ke=a(688),$e=Object(l.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(H.a),Qe=Object(l.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(K.a),Ze=Object(s.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:200}},table:{minWidth:700},errortext:{color:"#ff0000"}}}));function et(){var e=Ze(),t=Object(n.useState)({rows:[],total:0}),a=Object(o.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)({type:["order","error"],event:"",page:"1"}),s=Object(o.a)(r,2),l=s[0],d=s[1],j=Object(n.useState)({logs:[],total:0}),b=Object(o.a)(j,2),h=b[0],x=b[1];Object(n.useEffect)((function(){return function(e){var t=[];e.logs.reverse().forEach((function(e){t.push({time:e.time,type:e.type,event:e.event})})),i({rows:t,total:e.total})}(h),function(){}}),[h]);Object(n.useEffect)((function(){return Oe.on("event-history",(function(e,t){x({logs:e,total:t})})),Oe.on("event",(function(e,t){Oe&&Oe.emit("get-logs",l)})),function(){Oe.off("event-history")}}),[]),Object(n.useEffect)((function(){return Oe&&Oe.emit("get-logs",l),function(){}}),[l]);return Object(B.jsxs)(C.a,{pt:2,children:[Object(B.jsxs)(O.a,{container:!0,style:{height:"60px"},alignItems:"center",children:[Object(B.jsx)(S.a,{p:1,children:Object(B.jsx)(O.a,{item:!0,xs:3,children:Object(B.jsxs)(Ve.a,{value:l.type,onChange:function(e,t){d({type:t,event:l.event,page:l.page})},"aria-label":"type selection",children:[Object(B.jsx)(Xe.a,{value:"order","aria-label":"order",style:{height:"30px"},children:Object(B.jsx)(u.a,{variant:"overline",noWrap:!0,children:"Orders"})}),Object(B.jsx)(Xe.a,{value:"error","aria-label":"error",style:{height:"30px"},children:Object(B.jsx)(u.a,{variant:"overline",noWrap:!0,children:"Errors"})})]})})}),Object(B.jsx)(O.a,{item:!0,xs:2,children:Object(B.jsx)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:Object(B.jsx)(He.a,{id:"event-filter",label:"Filter events",color:"secondary",onChange:function(e){d({type:l.type,event:e.target.value,page:l.page})}})})}),Object(B.jsx)(O.a,{item:!0,xs:7})]}),Object(B.jsx)(X.a,{component:C.a,children:Object(B.jsxs)(_.a,{className:e.table,size:"small","aria-label":"customized table",children:[Object(B.jsx)(V.a,{children:Object(B.jsxs)(K.a,{children:[Object(B.jsx)($e,{style:{width:"170px"},children:"Time"}),Object(B.jsx)($e,{children:"Event"})]})}),Object(B.jsx)(q.a,{children:c.rows.map((function(t){return Object(B.jsxs)(Qe,{children:[Object(B.jsx)($e,{component:"th",scope:"row",children:Object(B.jsx)(u.a,{variant:"caption",children:t.time})}),Object(B.jsx)($e,{children:"error"===t.type?Object(B.jsx)(u.a,{variant:"body2",className:e.errortext,children:t.event}):Object(B.jsx)(u.a,{variant:"body2",children:t.event})})]},t.time+t.event)}))})]})}),Object(B.jsx)(S.a,{display:"flex",justifyContent:"flex-end",children:Object(B.jsx)(Ke.a,{count:Math.ceil(c.total/20),shape:"rounded",onChange:function(e,t){d({type:l.type,event:l.event,page:t})}})})]})}var tt=Object(s.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)}}})),at=function(e){var t=tt();return Object(B.jsx)("div",{className:t.root,children:Object(B.jsxs)(O.a,{container:!0,spacing:3,children:[Object(B.jsx)(O.a,{item:!0,xs:6,children:Object(B.jsx)(u.a,{variant:"h3",noWrap:!0,children:"Event History"})}),Object(B.jsx)(O.a,{item:!0,xs:2}),Object(B.jsx)(O.a,{item:!0,xs:4,children:Object(B.jsx)(Fe,{})}),Object(B.jsx)(O.a,{item:!0,xs:8,children:Object(B.jsx)(et,{})}),Object(B.jsx)(O.a,{item:!0,xs:4})]})})};function nt(){return Object(B.jsxs)(c.a.Fragment,{children:[Object(B.jsx)(u.a,{variant:"h6",gutterBottom:!0,children:"Exchange API Details"}),Object(B.jsxs)(O.a,{container:!0,spacing:3,children:[Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(He.a,{required:!0,id:"apiKey",name:"apiKey",label:"API Key",fullWidth:!0})}),Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(He.a,{required:!0,id:"apiSecret",name:"apiSecret",label:"API Secret",fullWidth:!0})})]})]})}function ct(){return Object(B.jsxs)(c.a.Fragment,{children:[Object(B.jsx)(u.a,{variant:"h6",gutterBottom:!0,children:"Coin Settings"}),Object(B.jsx)(O.a,{container:!0,spacing:3})]})}function it(){return Object(B.jsxs)(c.a.Fragment,{children:[Object(B.jsx)(u.a,{variant:"h6",gutterBottom:!0,children:"General Settings"}),Object(B.jsxs)(O.a,{container:!0,spacing:3,children:[Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(He.a,{required:!0,id:"botName",name:"botName",label:"Bot Name",fullWidth:!0})}),Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(He.a,{required:!0,id:"threshold",name:"threshold",label:"Balancing Threshold (%)",fullWidth:!0})}),Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(k.a,{control:Object(B.jsx)(Z.a,{color:"secondary",name:"headless",value:"yes"}),label:"Run bot in headless mode"})})]})]})}var rt=Object(s.a)((function(e){return{layout:{width:"1000px",marginLeft:e.spacing(2),marginRight:e.spacing(2)},paper:Object(z.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),ot=["Exchange API","Coin Settings","General Settings"];function st(e){switch(e){case 0:return Object(B.jsx)(nt,{});case 1:return Object(B.jsx)(ct,{});case 2:return Object(B.jsx)(it,{});default:throw new Error("Unknown step")}}function lt(){var e=rt(),t=Object(n.useState)(0),a=Object(o.a)(t,2),i=a[0],r=a[1];return Object(B.jsxs)(c.a.Fragment,{children:[Object(B.jsx)(b.a,{}),Object(B.jsx)("main",{className:e.layout,children:Object(B.jsxs)(C.a,{className:e.paper,children:[Object(B.jsx)(Te.a,{activeStep:i,className:e.stepper,children:ot.map((function(e){return Object(B.jsx)(Pe.a,{children:Object(B.jsx)(Be.a,{children:e})},e)}))}),Object(B.jsx)(c.a.Fragment,{children:i===ot.length?Object(B.jsxs)(c.a.Fragment,{children:[Object(B.jsx)(u.a,{variant:"h5",gutterBottom:!0,children:"Configuration has been saved"}),Object(B.jsx)(u.a,{variant:"subtitle1",children:"You can now leave this page"})]}):Object(B.jsxs)(c.a.Fragment,{children:[st(i),Object(B.jsxs)("div",{className:e.buttons,children:[0!==i&&Object(B.jsx)(N.a,{onClick:function(){r(i-1)},className:e.button,children:"Back"}),Object(B.jsx)(N.a,{variant:"contained",color:"primary",onClick:function(){r(i+1)},className:e.button,children:i===ot.length-1?"Save Configuation":"Next"})]})]})})]})})]})}var dt=Object(s.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)}}})),jt=function(){var e=dt();return Object(B.jsx)("div",{className:e.root,children:Object(B.jsxs)(O.a,{container:!0,spacing:3,children:[Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(u.a,{variant:"h3",noWrap:!0,children:"Configuration"})}),Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(lt,{})})]})})},bt=[{path:"/",sidebarName:"Portfolio",navbarName:"Portfolio",icon:W.a,component:we},{path:"/performance",sidebarName:"Performance",navbarName:"Performance",icon:U.a,component:qe},{path:"/history",sidebarName:"Event History",navbarName:"Event History",icon:L.a,component:at}],ht=[{path:"/configuration",sidebarName:"Configuration",navbarName:"Configuration",icon:A.a,component:jt}],xt=Object(s.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},logo:{maxWidth:60,padding:10},drawer:{width:240,flexShrink:0},drawerPaper:{width:240,height:"100%"},drawerContainer:{overflow:"auto"},content:{justify:"flex-start",alignItems:"flex-start",flexGrow:1,padding:e.spacing(2)}}}));function ut(){var e=P("mode","light"),t=Object(o.a)(e,2),a=t[0],c=t[1],i=P("fiat","EUR")[1],r=Object(n.useContext)(E),s=Object(o.a)(r,2),I=s[0],R=s[1],W=xt(),D=function(e){"EUR"===I?(R("USD"),i("USD")):(R("EUR"),i("EUR"))},U=Object(T.a)({palette:{type:a}}),G=Object(l.a)({root:{"&:hover":{backgroundColor:"transparent"},"&:click":{backgroundColor:"#f00"}}})(N.a);return Object(B.jsx)(w.a,{theme:U,children:Object(B.jsx)(v.a,{children:Object(B.jsxs)("div",{className:W.root,children:[Object(B.jsx)(b.a,{}),Object(B.jsx)(j.a,{position:"fixed",className:W.appBar,children:Object(B.jsxs)(h.a,{children:[Object(B.jsx)("img",{src:"/logo192.png",alt:"Balance-Bot Logo",className:W.logo}),Object(B.jsx)(u.a,{variant:"h6",noWrap:!0,children:"Balance Bot"})]})}),Object(B.jsx)(d.a,{className:W.drawer,variant:"permanent",children:Object(B.jsx)(C.a,{className:W.drawerPaper,children:Object(B.jsxs)(O.a,{container:!0,direction:"column",children:[Object(B.jsxs)(O.a,{item:!0,xs:12,children:[Object(B.jsx)(h.a,{}),Object(B.jsxs)("div",{className:W.drawerContainer,children:[Object(B.jsx)(x.a,{children:bt.map((function(e,t){return Object(B.jsx)(v.b,{to:e.path,style:{textDecoration:"none"},children:Object(B.jsxs)(g.a,{button:!0,children:[Object(B.jsx)(m.a,{children:Object(B.jsx)(e.icon,{})}),Object(B.jsx)(f.a,{primary:e.sidebarName,primaryTypographyProps:{variant:"button",color:"textPrimary"}})]},e.sidebarName)},t)}))}),Object(B.jsx)(p.a,{}),ht.map((function(e,t){return Object(B.jsx)(v.b,{to:e.path,style:{textDecoration:"none"},children:Object(B.jsxs)(g.a,{button:!0,children:[Object(B.jsx)(m.a,{children:Object(B.jsx)(e.icon,{})}),Object(B.jsx)(f.a,{primary:e.sidebarName,primaryTypographyProps:{variant:"button",color:"textPrimary"}})]},e.sidebarName)},t)}))]})]}),Object(B.jsx)(S.a,{pt:10}),Object(B.jsx)(p.a,{}),Object(B.jsxs)(S.a,{pt:1,pl:4,children:[Object(B.jsx)(O.a,{item:!0,xs:12,children:Object(B.jsx)(k.a,{onChange:function(e){c("light"===a?"dark":"light")},value:a,control:Object(B.jsx)(F.a,{checked:"dark"===a,color:"secondary"}),label:Object(B.jsx)(u.a,{variant:"button",children:"Dark Mode"}),labelPlacement:"start"})}),Object(B.jsxs)(O.a,{container:!0,item:!0,xs:12,alignItems:"center",children:[Object(B.jsx)(O.a,{item:!0,xs:6,children:Object(B.jsx)(k.a,{onChange:D,value:I,control:Object(B.jsx)(F.a,{checked:"EUR"===I,color:"secondary"}),label:Object(B.jsx)(u.a,{variant:"button",children:"USD"}),labelPlacement:"start"})}),Object(B.jsx)(O.a,{item:!0,xs:6,children:Object(B.jsx)(G,{disableRipple:!0,onClick:D,children:Object(B.jsx)(u.a,{variant:"button",children:"EUR"})})})]})]})]})})}),Object(B.jsxs)("main",{className:W.content,children:[Object(B.jsx)(h.a,{}),Object(B.jsxs)(y.c,{children:[bt.map((function(e,t){return Object(B.jsx)(y.a,{exact:!0,path:e.path,component:e.component},t)})),ht.map((function(e,t){return Object(B.jsx)(y.a,{exact:!0,path:e.path,component:e.component},t)}))]})]})]})})})}var pt=a(189),Ot=a(115);function gt(){var e=Object(n.useContext)(fe),t=Object(o.a)(e,2),a=t[0],c=(a.status,a.updated),i=t[1],r=Object(n.useContext)(ge),s=Object(o.a)(r,2),l=s[0],d=s[1],j=Object(n.useContext)(Je),b=Object(o.a)(j,2),h=b[0],x=b[1],u=Object(n.useContext)(Ce)[1],p=Object(pt.b)().enqueueSnackbar,O=function(){var e=new Date;return e.getFullYear()+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getDate().toString().padStart(2,"0")};return Object(n.useEffect)((function(){return function(){var e=l.portfolio?JSON.parse(l.portfolio):[],t=[];if(e.forEach((function(e){t.push({coin:e.coin,number:e.number,price:e.last})})),0!==h.length)if(h[h.length-1].date===O()){var a=Object(Ot.a)(h);a[a.length-1].coins=t,a[a.length-1].eur=l.eur,a[a.length-1].usd=l.usd,x(a)}else Oe&&Oe.emit("get-performance")}(),function(){}}),[l]),Object(n.useEffect)((function(){return Oe.on("status",(function(e){i({status:e,updated:c})})),Oe.on("balances",(function(e){d(e),i({status:"connected",updated:e.time})})),Oe.on("performance",(function(e){x(e)})),Oe.on("starting-balances",(function(e){!function(e){u(e)}(e)})),Oe.on("event",(function(e,t){!function(e,t){var a="error"===e.type?"error":"success";p(t,{variant:a,autoHideDuration:8e3})}(e,t)})),Oe.on("disconnect",(function(e){i({status:"disconnected",updated:c})})),function(){Oe.disconnect()}}),[]),null}var mt=function(){return Object(B.jsx)(pt.a,{maxSnack:5,children:Object(B.jsx)(ve,{children:Object(B.jsx)(me,{children:Object(B.jsx)(Me,{children:Object(B.jsx)(Se,{children:Object(B.jsxs)(I,{children:[Object(B.jsx)(gt,{}),Object(B.jsx)(b.a,{}),Object(B.jsx)(ut,{})]})})})})})})};r.a.render(Object(B.jsx)(c.a.StrictMode,{children:Object(B.jsx)(mt,{})}),document.getElementById("root"))}},[[565,1,2]]]);
//# sourceMappingURL=main.a22a3d07.chunk.js.map